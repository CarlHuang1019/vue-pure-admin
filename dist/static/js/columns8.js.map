{"version":3,"file":"columns8.js","sources":["../../../src/views/pure-table/high/echarts/columns.tsx"],"sourcesContent":["import {\n  clone,\n  useDark,\n  useECharts,\n  type EchartOptions\n} from \"@pureadmin/utils\";\nimport { tableDataDrag } from \"../data\";\nimport { message } from \"@/utils/message\";\nimport { templateRef } from \"@vueuse/core\";\nimport { ref, type Ref, computed } from \"vue\";\n\nexport function useColumns() {\n  const dataList = ref(clone(tableDataDrag, true).splice(0, 4));\n\n  const columns: TableColumnList = [\n    {\n      label: \"ID\",\n      prop: \"id\"\n    },\n    {\n      label: \"姓名\",\n      prop: \"name\"\n    },\n    {\n      label: \"日期\",\n      prop: \"date\"\n    },\n    {\n      label: \"echarts图表\",\n      slot: \"echart\"\n    }\n  ];\n\n  const { isDark } = useDark();\n\n  const theme: EchartOptions[\"theme\"] = computed(() => {\n    return isDark.value ? \"dark\" : \"light\";\n  });\n\n  dataList.value.forEach((_, i) => {\n    const { setOptions } = useECharts(\n      templateRef(`PieChartRef${i}`) as Ref<HTMLDivElement>,\n      {\n        theme\n      }\n    );\n\n    // https://pure-admin-utils.netlify.app/hooks/useEcharts/useEcharts.html\n    setOptions(\n      {\n        tooltip: {\n          trigger: \"item\",\n          // 将 tooltip 控制在图表区域里\n          confine: true\n        },\n        series: [\n          {\n            name: \"Github信息\",\n            type: \"pie\",\n            // center: [\"30%\", \"50%\"],\n            data: [\n              { value: 1067, name: \"watchers\" },\n              { value: 4037, name: \"star\" },\n              { value: 859, name: \"forks\" }\n            ],\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\n              }\n            }\n          }\n        ]\n      },\n      {\n        name: \"click\",\n        callback: ({ data: { name, value } }) => {\n          message(\n            `您点击了第 ${i + 1} 行，图表标题为${name}，图表数据为：${value}`,\n            {\n              type: \"success\"\n            }\n          );\n        }\n      }\n    );\n  });\n\n  return {\n    columns,\n    dataList\n  };\n}\n"],"names":["useColumns","dataList","ref","clone","tableDataDrag","splice","columns","label","prop","slot","isDark","useDark","theme","computed","value","forEach","_","i","setOptions","useECharts","templateRef","tooltip","trigger","confine","series","name","type","data","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","callback","message"],"mappings":"2GAWO,SAASA,GAAa,CAC3B,MAAMC,EAAWC,EAAIC,EAAMC,EAAe,EAAI,EAAEC,OAAO,EAAG,CAAC,CAAC,EAEtDC,EAA2B,CAC/B,CACEC,MAAO,KACPC,KAAM,IACR,EACA,CACED,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,YACPE,KAAM,QACR,CAAC,EAGG,CAAEC,OAAAA,CAAQ,EAAGC,EAAO,EAEpBC,EAAgCC,EAAS,IACtCH,EAAOI,MAAQ,OAAS,OAChC,EAEDb,OAAAA,EAASa,MAAMC,QAAQ,CAACC,EAAGC,IAAM,CAC/B,KAAM,CAAEC,WAAAA,GAAeC,EACrBC,EAAa,cAAaH,CAAE,EAAC,EAC7B,CACEL,MAAAA,CACF,CACF,EAGAM,EACE,CACEG,QAAS,CACPC,QAAS,OAETC,QAAS,EACV,EACDC,OAAQ,CACN,CACEC,KAAM,WACNC,KAAM,MAENC,KAAM,CACJ,CAAEb,MAAO,KAAMW,KAAM,UAAW,EAChC,CAAEX,MAAO,KAAMW,KAAM,MAAO,EAC5B,CAAEX,MAAO,IAAKW,KAAM,OAAQ,CAAC,EAE/BG,SAAU,CACRC,UAAW,CACTC,WAAY,GACZC,cAAe,EACfC,YAAa,oBACf,CACF,EACD,CAEL,EACA,CACEP,KAAM,QACNQ,SAAUA,CAAC,CAAEN,KAAM,CAAEF,KAAAA,EAAMX,MAAAA,CAAM,CAAE,IAAM,CACvCoB,EACG,SAAQjB,EAAI,CAAE,WAAUQ,CAAK,UAASX,CAAM,GAC7C,CACEY,KAAM,SACR,CACF,CACF,CACF,CACF,CACF,CAAC,EAEM,CACLpB,QAAAA,EACAL,SAAAA,EAEJ"}
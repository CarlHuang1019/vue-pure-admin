{"version":3,"file":"columns4.js","sources":["../../../src/views/pure-table/high/adaptive/columns.tsx"],"sourcesContent":["import type {\n  LoadingConfig,\n  AdaptiveConfig,\n  PaginationProps\n} from \"@pureadmin/table\";\nimport { tableData } from \"../data\";\nimport { ref, onMounted, reactive } from \"vue\";\nimport { clone, delay } from \"@pureadmin/utils\";\n\nexport function useColumns() {\n  const dataList = ref([]);\n  const loading = ref(true);\n  const columns: TableColumnList = [\n    {\n      label: \"日期\",\n      prop: \"date\"\n    },\n    {\n      label: \"姓名\",\n      prop: \"name\"\n    },\n    {\n      label: \"地址\",\n      prop: \"address\"\n    }\n  ];\n\n  /** 分页配置 */\n  const pagination = reactive<PaginationProps>({\n    pageSize: 20,\n    currentPage: 1,\n    pageSizes: [20, 40, 60],\n    total: 0,\n    align: \"right\",\n    background: true,\n    small: false\n  });\n\n  /** 加载动画配置 */\n  const loadingConfig = reactive<LoadingConfig>({\n    text: \"正在加载第一页...\",\n    viewBox: \"-10, -10, 50, 50\",\n    spinner: `\n        <path class=\"path\" d=\"\n          M 30 15\n          L 28 17\n          M 25.61 25.61\n          A 15 15, 0, 0, 1, 15 30\n          A 15 15, 0, 1, 1, 27.99 7.5\n          L 15 15\n        \" style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"/>\n      `\n    // svg: \"\",\n    // background: rgba()\n  });\n\n  /** 撑满内容区自适应高度相关配置 */\n  const adaptiveConfig: AdaptiveConfig = {\n    /** 表格距离页面底部的偏移量，默认值为 `96` */\n    offsetBottom: 110\n    /** 是否固定表头，默认值为 `true`（如果不想固定表头，fixHeader设置为false并且表格要设置table-layout=\"auto\"） */\n    // fixHeader: true\n    /** 页面 `resize` 时的防抖时间，默认值为 `60` ms */\n    // timeout: 60\n    /** 表头的 `z-index`，默认值为 `100` */\n    // zIndex: 100\n  };\n\n  function onSizeChange(val) {\n    console.log(\"onSizeChange\", val);\n  }\n\n  function onCurrentChange(val) {\n    loadingConfig.text = `正在加载第${val}页...`;\n    loading.value = true;\n    delay(600).then(() => {\n      loading.value = false;\n    });\n  }\n\n  onMounted(() => {\n    delay(600).then(() => {\n      const newList = [];\n      Array.from({ length: 6 }).forEach(() => {\n        newList.push(clone(tableData, true));\n      });\n      newList.flat(Infinity).forEach((item, index) => {\n        dataList.value.push({ id: index, ...item });\n      });\n      pagination.total = dataList.value.length;\n      loading.value = false;\n    });\n  });\n\n  return {\n    loading,\n    columns,\n    dataList,\n    pagination,\n    loadingConfig,\n    adaptiveConfig,\n    onSizeChange,\n    onCurrentChange\n  };\n}\n"],"names":["useColumns","dataList","ref","loading","columns","label","prop","pagination","reactive","pageSize","currentPage","pageSizes","total","align","background","small","loadingConfig","text","viewBox","spinner","adaptiveConfig","offsetBottom","onSizeChange","val","console","onCurrentChange","delay","onMounted","newList","then","length","clone","tableData","item","index","flat","id"],"mappings":"4FASO,SAASA,GAAa,CAC3B,MAAMC,EAAWC,EAAI,CAAA,CAAE,EACjBC,EAAUD,EAAI,EAAI,EAClBE,EAA2B,CAC/B,CACEC,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,KACPC,KAAM,SACR,CAAC,EAIGC,EAAaC,EAA0B,CAC3CC,SAAU,GACVC,YAAa,EACbC,UAAW,CAAC,GAAI,GAAI,EAAE,EACtBC,MAAO,EACPC,MAAO,QACPC,WAAY,GACZC,MAAO,EACT,CAAC,EAGKC,EAAgBR,EAAwB,CAC5CS,KAAM,aACNC,QAAS,mBACTC,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYZ,CAAC,EAGKC,EAAiC,CAErCC,aAAc,KAShB,SAASC,EAAaC,EAAK,CAAA,CACzBC,SAAOC,EAAmBF,EAAEA,CAC9BP,EAAA,KAAA,QAAAO,CAAA,OAESE,EAAAA,MAAAA,GACPT,EAAAA,GAAAA,EAAAA,KAAcC,IAAQ,CACfd,EAAM,MAAO,EACpBuB,CAAAA,EAEA,OAAAC,EAAE,IAAA,CACJD,EAAA,GAAA,EAAA,KAAA,IAAA,CAEAC,MAAUC,EAAM,CAAA,EACdF,MAAS,KAAEG,CACHD,OAAAA,EACD,EAAA,QAAM,IAAA,CAAEE,EAAQ,KAAAC,EAAAC,EAAA,EAAA,CAAA,CAAE,CAAC,IACf,QAAYA,EAAS,QAAA,CAAEC,EAAMC,IAAA,CACpCjC,EAAA,MAAA,KAAA,CACF2B,GAAQO,EACNlC,GAAAA,CAAsBmC,CAAAA,IAAmB7B,EAAE,MAAAN,EAAA,MAAA,OAC7CE,EAAE,MAAA,EACFI,CAAAA,IAEA,CACF,QAAAJ,EAEK,QAAAC,EACLD,SAAAA,EACAC,WAAAA,EACAH,cAAAA,EACAM,eAAAA,EACAS,aAAAA,EACAI,gBAAAA,EAEAK"}
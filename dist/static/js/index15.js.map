{"version":3,"file":"index15.js","sources":["../../../src/views/components/cropping/avatar.png","../../../src/views/components/cropping/index.vue"],"sourcesContent":["export default \"__VITE_ASSET__2ec01835__\"","<script setup lang=\"tsx\">\nimport { ref } from \"vue\";\nimport avatar from \"./avatar.png\";\nimport ReCropper from \"@/components/ReCropper\";\nimport { formatBytes } from \"@pureadmin/utils\";\n\ndefineOptions({\n  name: \"Cropping\"\n});\n\nconst infos = ref();\nconst refCropper = ref();\nconst showPopover = ref(false);\nconst cropperImg = ref<string>(\"\");\n\nfunction onCropper({ base64, blob, info }) {\n  console.log(blob);\n  infos.value = info;\n  cropperImg.value = base64;\n}\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">\n          图片裁剪组件，基于开源的\n          <el-link\n            href=\"https://fengyuanchen.github.io/cropperjs/\"\n            target=\"_blank\"\n            style=\"margin: 0 4px 5px; font-size: 16px\"\n          >\n            cropperjs\n          </el-link>\n          进行二次封装（提示：右键下面左侧裁剪区可开启功能菜单）\n        </span>\n      </div>\n    </template>\n    <el-popover\n      :visible=\"showPopover\"\n      placement=\"right\"\n      width=\"300px\"\n      :teleported=\"false\"\n    >\n      <template #reference>\n        <ReCropper\n          ref=\"refCropper\"\n          class=\"w-[30vw]\"\n          :src=\"avatar\"\n          circled\n          @cropper=\"onCropper\"\n          @readied=\"showPopover = true\"\n        />\n      </template>\n      <div class=\"flex flex-wrap justify-center items-center text-center\">\n        <el-image\n          v-if=\"cropperImg\"\n          :src=\"cropperImg\"\n          :preview-src-list=\"Array.of(cropperImg)\"\n          fit=\"cover\"\n        />\n        <div v-if=\"infos\" class=\"mt-1\">\n          <p>\n            图像大小：{{ parseInt(infos.width) }} ×\n            {{ parseInt(infos.height) }}像素\n          </p>\n          <p>\n            文件大小：{{ formatBytes(infos.size) }}（{{ infos.size }} 字节）\n          </p>\n        </div>\n      </div>\n    </el-popover>\n  </el-card>\n</template>\n"],"names":["avatar","infos","ref","refCropper","showPopover","cropperImg","onCropper","base64","blob","info","console","_ctx","_cache"],"mappings":"qLAAA,MAAeA,EAAA,+NCUf,MAAMC,EAAQC,IACRC,EAAaD,IACbE,EAAcF,EAAI,EAAK,EACvBG,EAAaH,EAAY,EAAE,EAEjC,SAASI,EAAU,CAAEC,OAAAA,EAAQC,KAAAA,EAAMC,KAAAA,CAAK,EAAG,CACzCC,EAAAA,MAAYF,EACZP,EAAW,MAAOM,EAEpB,MAAA,CAAAI,EAAAC,IAAA"}
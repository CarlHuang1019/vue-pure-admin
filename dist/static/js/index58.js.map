{"version":3,"file":"index58.js","sources":["../../../node_modules/.pnpm/@iconify-icons+ri@1.2.10/node_modules/@iconify-icons/ri/upload-line.js","../../../node_modules/.pnpm/@iconify-icons+ri@1.2.10/node_modules/@iconify-icons/ri/lock-password-line.js","../../../node_modules/.pnpm/@iconify-icons+ep@1.2.12/node_modules/@iconify-icons/ep/more-filled.js","../../../src/views/system/user/index.vue"],"sourcesContent":["const data = {\n\t\"width\": 24,\n\t\"height\": 24,\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M3 19h18v2H3v-2ZM13 5.828V17h-2V5.828L4.929 11.9l-1.414-1.414L12 2l8.485 8.485l-1.414 1.415L13 5.827Z\\\"/>\"\n};\nexport default data;\n","const data = {\n\t\"width\": 24,\n\t\"height\": 24,\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1ZM5 10v10h14V10H5Zm6 4h2v2h-2v-2Zm-4 0h2v2H7v-2Zm8 0h2v2h-2v-2Zm1-6V7a4 4 0 0 0-8 0v1h8Z\\\"/>\"\n};\nexport default data;\n","const data = {\n\t\"width\": 1024,\n\t\"height\": 1024,\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z\\\"/>\"\n};\nexport default data;\n","<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport tree from \"./tree.vue\";\nimport { useUser } from \"./utils/hook\";\nimport { PureTableBar } from \"@/components/RePureTableBar\";\nimport { useRenderIcon } from \"@/components/ReIcon/src/hooks\";\n\nimport Upload from \"@iconify-icons/ri/upload-line\";\nimport Role from \"@iconify-icons/ri/admin-line\";\nimport Password from \"@iconify-icons/ri/lock-password-line\";\nimport More from \"@iconify-icons/ep/more-filled\";\nimport Delete from \"@iconify-icons/ep/delete\";\nimport EditPen from \"@iconify-icons/ep/edit-pen\";\nimport Search from \"@iconify-icons/ep/search\";\nimport Refresh from \"@iconify-icons/ep/refresh\";\nimport AddFill from \"@iconify-icons/ri/add-circle-line\";\n\ndefineOptions({\n  name: \"User\"\n});\n\nconst treeRef = ref();\nconst formRef = ref();\nconst tableRef = ref();\n\nconst {\n  form,\n  loading,\n  columns,\n  dataList,\n  treeData,\n  treeLoading,\n  selectedNum,\n  pagination,\n  buttonClass,\n  onSearch,\n  resetForm,\n  onbatchDel,\n  openDialog,\n  onTreeSelect,\n  handleUpdate,\n  handleDelete,\n  handleUpload,\n  handleReset,\n  handleRole,\n  handleSizeChange,\n  onSelectionCancel,\n  handleCurrentChange,\n  handleSelectionChange\n} = useUser(tableRef, treeRef);\n</script>\n\n<template>\n  <div class=\"flex justify-between\">\n    <tree\n      ref=\"treeRef\"\n      class=\"min-w-[200px] mr-2\"\n      :treeData=\"treeData\"\n      :treeLoading=\"treeLoading\"\n      @tree-select=\"onTreeSelect\"\n    />\n    <div class=\"w-[calc(100%-200px)]\">\n      <el-form\n        ref=\"formRef\"\n        :inline=\"true\"\n        :model=\"form\"\n        class=\"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]\"\n      >\n        <el-form-item label=\"用户名称：\" prop=\"username\">\n          <el-input\n            v-model=\"form.username\"\n            placeholder=\"请输入用户名称\"\n            clearable\n            class=\"!w-[160px]\"\n          />\n        </el-form-item>\n        <el-form-item label=\"手机号码：\" prop=\"phone\">\n          <el-input\n            v-model=\"form.phone\"\n            placeholder=\"请输入手机号码\"\n            clearable\n            class=\"!w-[160px]\"\n          />\n        </el-form-item>\n        <el-form-item label=\"状态：\" prop=\"status\">\n          <el-select\n            v-model=\"form.status\"\n            placeholder=\"请选择\"\n            clearable\n            class=\"!w-[160px]\"\n          >\n            <el-option label=\"已开启\" value=\"1\" />\n            <el-option label=\"已关闭\" value=\"0\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            :icon=\"useRenderIcon(Search)\"\n            :loading=\"loading\"\n            @click=\"onSearch\"\n          >\n            搜索\n          </el-button>\n          <el-button :icon=\"useRenderIcon(Refresh)\" @click=\"resetForm(formRef)\">\n            重置\n          </el-button>\n        </el-form-item>\n      </el-form>\n\n      <PureTableBar\n        title=\"用户管理（仅演示，操作后不生效）\"\n        :columns=\"columns\"\n        @refresh=\"onSearch\"\n      >\n        <template #buttons>\n          <el-button\n            type=\"primary\"\n            :icon=\"useRenderIcon(AddFill)\"\n            @click=\"openDialog()\"\n          >\n            新增用户\n          </el-button>\n        </template>\n        <template v-slot=\"{ size, dynamicColumns }\">\n          <div\n            v-if=\"selectedNum > 0\"\n            v-motion-fade\n            class=\"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center\"\n          >\n            <div class=\"flex-auto\">\n              <span\n                style=\"font-size: var(--el-font-size-base)\"\n                class=\"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]\"\n              >\n                已选 {{ selectedNum }} 项\n              </span>\n              <el-button type=\"primary\" text @click=\"onSelectionCancel\">\n                取消选择\n              </el-button>\n            </div>\n            <el-popconfirm title=\"是否确认删除?\" @confirm=\"onbatchDel\">\n              <template #reference>\n                <el-button type=\"danger\" text class=\"mr-1\">\n                  批量删除\n                </el-button>\n              </template>\n            </el-popconfirm>\n          </div>\n          <pure-table\n            row-key=\"id\"\n            ref=\"tableRef\"\n            adaptive\n            align-whole=\"center\"\n            table-layout=\"auto\"\n            :loading=\"loading\"\n            :size=\"size\"\n            :data=\"dataList\"\n            :columns=\"dynamicColumns\"\n            :pagination=\"pagination\"\n            :paginationSmall=\"size === 'small' ? true : false\"\n            :header-cell-style=\"{\n              background: 'var(--el-fill-color-light)',\n              color: 'var(--el-text-color-primary)'\n            }\"\n            @selection-change=\"handleSelectionChange\"\n            @page-size-change=\"handleSizeChange\"\n            @page-current-change=\"handleCurrentChange\"\n          >\n            <template #operation=\"{ row }\">\n              <el-button\n                class=\"reset-margin\"\n                link\n                type=\"primary\"\n                :size=\"size\"\n                :icon=\"useRenderIcon(EditPen)\"\n                @click=\"openDialog('编辑', row)\"\n              >\n                修改\n              </el-button>\n              <el-popconfirm\n                :title=\"`是否确认删除用户编号为${row.id}的这条数据`\"\n                @confirm=\"handleDelete(row)\"\n              >\n                <template #reference>\n                  <el-button\n                    class=\"reset-margin\"\n                    link\n                    type=\"primary\"\n                    :size=\"size\"\n                    :icon=\"useRenderIcon(Delete)\"\n                  >\n                    删除\n                  </el-button>\n                </template>\n              </el-popconfirm>\n              <el-dropdown>\n                <el-button\n                  class=\"ml-3 mt-[2px]\"\n                  link\n                  type=\"primary\"\n                  :size=\"size\"\n                  :icon=\"useRenderIcon(More)\"\n                  @click=\"handleUpdate(row)\"\n                />\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item>\n                      <el-button\n                        :class=\"buttonClass\"\n                        link\n                        type=\"primary\"\n                        :size=\"size\"\n                        :icon=\"useRenderIcon(Upload)\"\n                        @click=\"handleUpload(row)\"\n                      >\n                        上传头像\n                      </el-button>\n                    </el-dropdown-item>\n                    <el-dropdown-item>\n                      <el-button\n                        :class=\"buttonClass\"\n                        link\n                        type=\"primary\"\n                        :size=\"size\"\n                        :icon=\"useRenderIcon(Password)\"\n                        @click=\"handleReset(row)\"\n                      >\n                        重置密码\n                      </el-button>\n                    </el-dropdown-item>\n                    <el-dropdown-item>\n                      <el-button\n                        :class=\"buttonClass\"\n                        link\n                        type=\"primary\"\n                        :size=\"size\"\n                        :icon=\"useRenderIcon(Role)\"\n                        @click=\"handleRole(row)\"\n                      >\n                        分配角色\n                      </el-button>\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </template>\n          </pure-table>\n        </template>\n      </PureTableBar>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n:deep(.el-dropdown-menu__item i) {\n  margin: 0;\n}\n\n:deep(.el-button:focus-visible) {\n  outline: none;\n}\n\n.search-form {\n  :deep(.el-form-item) {\n    margin-bottom: 12px;\n  }\n}\n</style>\n"],"names":["data","Upload","Password","More","treeRef","ref","formRef","tableRef","form","loading","columns","dataList","treeData","treeLoading","selectedNum","pagination","buttonClass","onSearch","resetForm","onbatchDel","openDialog","onTreeSelect","handleUpdate","handleDelete","handleUpload","handleReset","handleRole","handleSizeChange","onSelectionCancel","handleCurrentChange","handleSelectionChange","useUser"],"mappings":"w0BAAA,MAAMA,GAAO,CACZ,MAAS,GACT,OAAU,GACV,KAAQ,uIACT,EACAC,GAAeD,GCLTA,GAAO,CACZ,MAAS,GACT,OAAU,GACV,KAAQ,qNACT,EACAE,GAAeF,GCLTA,GAAO,CACZ,MAAS,KACT,OAAU,KACV,KAAQ,iLACT,EACAG,GAAeH,iWCgBf,MAAMI,EAAUC,IACVC,EAAUD,IACVE,EAAWF,IAEX,CACJ,KAAAG,EACA,QAAAC,EACA,QAAAC,EACA,SAAAC,EACA,SAAAC,EACA,YAAAC,EACA,YAAAC,EACA,WAAAC,EACA,YAAAC,EACA,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,aAAAC,EACA,aAAAC,EACA,aAAAC,EACA,aAAAC,EACA,YAAAC,EACA,WAAAC,EACA,iBAAAC,EACA,kBAAAC,EACA,oBAAAC,EACA,sBAAAC,CAAA,EACEC,GAAQxB,EAAUH,CAAO","x_google_ignoreList":[0,1,2]}
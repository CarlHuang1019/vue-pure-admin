{"version":3,"file":"Line.vue_vue_type_script_setup_true_lang.js","sources":["../../../src/views/welcome/components/Line.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useIntervalFn } from \"@vueuse/core\";\nimport { ref, computed, watch, type Ref } from \"vue\";\nimport { useAppStoreHook } from \"@/store/modules/app\";\nimport {\n  delay,\n  useDark,\n  useECharts,\n  type EchartOptions\n} from \"@pureadmin/utils\";\n\nconst { isDark } = useDark();\n\nconst theme: EchartOptions[\"theme\"] = computed(() => {\n  return isDark.value ? \"dark\" : \"default\";\n});\n\nconst lineChartRef = ref<HTMLDivElement | null>(null);\nconst { setOptions, getInstance, resize } = useECharts(\n  lineChartRef as Ref<HTMLDivElement>,\n  { theme }\n);\n\nconst xData = (() => {\n  const data: any[] = [];\n  for (let i = 1; i < 31; i++) {\n    data.push(`${i}日`);\n  }\n  return data;\n})();\n\nsetOptions(\n  {\n    tooltip: {\n      trigger: \"axis\",\n      axisPointer: {\n        type: \"shadow\"\n      }\n    },\n    grid: {\n      bottom: \"20px\",\n      right: \"10px\"\n    },\n    legend: {\n      //@ts-expect-error\n      right: true,\n      data: [\"fork\", \"star\"]\n    },\n    calculable: true,\n    xAxis: [\n      {\n        triggerEvent: true,\n        type: \"category\",\n        splitLine: {\n          show: false\n        },\n        axisTick: {\n          show: false\n        },\n        data: xData\n      }\n    ],\n    yAxis: [\n      {\n        triggerEvent: true,\n        type: \"value\",\n        splitLine: {\n          show: false\n        },\n        axisLine: {\n          show: true\n        }\n      }\n    ],\n    dataZoom: [\n      {\n        type: \"slider\",\n        show: false,\n        realtime: true,\n        startValue: 0,\n        endValue: 24\n      }\n    ],\n    series: [\n      {\n        name: \"fork\",\n        type: \"line\",\n        symbolSize: 10,\n        symbol: \"circle\",\n        color: \"#f56c6c\",\n        markPoint: {\n          label: {\n            color: \"#fff\"\n          },\n          data: [\n            {\n              type: \"max\",\n              name: \"最大值\"\n            },\n            {\n              type: \"min\",\n              name: \"最小值\"\n            }\n          ]\n        },\n        data: [\n          509, 917, 2455, 2610, 2719, 3033, 3044, 3085, 2708, 2809, 2117, 2000,\n          1455, 1210, 719, 733, 944, 2285, 2208, 3372, 3936, 3693, 2962, 2810,\n          3519, 2455, 2610, 2719, 2484, 2078\n        ]\n      },\n      {\n        name: \"star\",\n        type: \"line\",\n        symbolSize: 10,\n        symbol: \"circle\",\n        color: \"#53a7ff\",\n        markPoint: {\n          label: {\n            color: \"#fff\"\n          },\n          data: [\n            {\n              type: \"max\",\n              name: \"最大值\"\n            },\n            {\n              type: \"min\",\n              name: \"最小值\"\n            }\n          ]\n        },\n        data: [\n          2136, 3693, 2962, 3810, 3519, 3484, 3915, 3823, 3455, 4310, 4019,\n          3433, 3544, 3885, 4208, 3372, 3484, 3915, 3748, 3675, 4009, 4433,\n          3544, 3285, 4208, 3372, 3484, 3915, 3823, 4265, 4298\n        ]\n      }\n    ],\n    addTooltip: true\n  },\n  {\n    name: \"click\",\n    callback: params => {\n      console.log(\"click\", params);\n    }\n  },\n  {\n    name: \"contextmenu\",\n    callback: params => {\n      console.log(\"contextmenu\", params);\n    }\n  },\n  // 点击空白处\n  {\n    type: \"zrender\",\n    name: \"click\",\n    callback: params => {\n      console.log(\"点击空白处\", params);\n    }\n  }\n);\n\nlet a = 1;\nuseIntervalFn(() => {\n  if (a == xData.length - 24) {\n    a = 0;\n  }\n  getInstance()!.dispatchAction({\n    type: \"dataZoom\",\n    startValue: a,\n    endValue: a + 24\n  });\n  a++;\n}, 2000);\n\nwatch(\n  () => useAppStoreHook().getSidebarStatus,\n  () => {\n    delay(600).then(() => resize());\n  }\n);\n</script>\n\n<template>\n  <div ref=\"lineChartRef\" style=\"width: 100%; height: 35vh\" />\n</template>\n"],"names":["isDark","useDark","theme","computed","lineChartRef","ref","setOptions","getInstance","resize","useECharts","xData","data","i","params","useIntervalFn","watch","useAppStoreHook","delay","_ctx","_cache"],"mappings":"iKAWM,KAAA,CAAE,OAAAA,GAAWC,IAEbC,EAAgCC,EAAS,IACtCH,EAAO,MAAQ,OAAS,SAChC,EAEKI,EAAeC,EAA2B,IAAI,EAC9C,CAAE,WAAAC,EAAY,YAAAC,EAAa,OAAAC,CAAW,EAAAC,EAC1CL,EACA,CAAE,MAAAF,CAAM,CAAA,EAGJQ,GAAS,IAAM,CACnB,MAAMC,EAAc,CAAA,EACpB,QAASC,EAAI,EAAGA,EAAI,GAAIA,IACjBD,EAAA,KAAK,GAAGC,CAAC,GAAG,EAEZ,OAAAD,CAAA,KAGTL,EACE,CACE,QAAS,CACP,QAAS,OACT,YAAa,CACX,KAAM,QACR,CACF,EACA,KAAM,CACJ,OAAQ,OACR,MAAO,MACT,EACA,OAAQ,CAEN,MAAO,GACP,KAAM,CAAC,OAAQ,MAAM,CACvB,EACA,WAAY,GACZ,MAAO,CACL,CACE,aAAc,GACd,KAAM,WACN,UAAW,CACT,KAAM,EACR,EACA,SAAU,CACR,KAAM,EACR,EACA,KAAMI,CACR,CACF,EACA,MAAO,CACL,CACE,aAAc,GACd,KAAM,QACN,UAAW,CACT,KAAM,EACR,EACA,SAAU,CACR,KAAM,EACR,CACF,CACF,EACA,SAAU,CACR,CACE,KAAM,SACN,KAAM,GACN,SAAU,GACV,WAAY,EACZ,SAAU,EACZ,CACF,EACA,OAAQ,CACN,CACE,KAAM,OACN,KAAM,OACN,WAAY,GACZ,OAAQ,SACR,MAAO,UACP,UAAW,CACT,MAAO,CACL,MAAO,MACT,EACA,KAAM,CACJ,CACE,KAAM,MACN,KAAM,KACR,EACA,CACE,KAAM,MACN,KAAM,KACR,CACF,CACF,EACA,KAAM,CACJ,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAChE,KAAM,KAAM,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC/D,KAAM,KAAM,KAAM,KAAM,KAAM,IAChC,CACF,EACA,CACE,KAAM,OACN,KAAM,OACN,WAAY,GACZ,OAAQ,SACR,MAAO,UACP,UAAW,CACT,MAAO,CACL,MAAO,MACT,EACA,KAAM,CACJ,CACE,KAAM,MACN,KAAM,KACR,EACA,CACE,KAAM,MACN,KAAM,KACR,CACF,CACF,EACA,KAAM,CACJ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC5D,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC5D,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAClD,CACF,CACF,EACA,WAAY,EACd,EACA,CACE,KAAM,QACN,SAAoBG,GAAA,CAAA,CACV,EACV,CACF,KAAA,cACA,SAAAA,GAAA,CAAA,CAAA,EAGY,CACV,KAAA,UACF,KAAA,QAAA,SAAAA,GAAA,CAAA,CAEA,CAAA,EACQ,IACN,EAAM,EAAA,OAAAC,EACI,IAAU,CACV,GAAAJ,EAAA,YACV,EAAA,GAEJH,EAAA,EAAA,eAAA,CAEI,KAAI,WACR,WAAoB,EACd,SAAW,EAAA,EACb,CAAI,EACN,GACA,EAAA,GAAA,EAA8BQ,EACtB,IACMC,EAAA,EAAA,iBAAA,KAEbC,EAAA,GAAA,EAAA,KAAA,IAAAT,EAAA,CAAA,CACD,CAAA,EAGF,CAAAU,EAAAC,WAC0B,MAAA,CAClB,QAAA,eACJ,IAAAf,EACF,MAAA,CAAA,MAAA,OAAA,OAAA,MAAA,CAAA,EACF,KAAA,GAAA"}
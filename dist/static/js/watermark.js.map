{"version":3,"file":"watermark.js","sources":["../../../src/views/able/watermark.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, nextTick, onBeforeUnmount } from \"vue\";\nimport { useWatermark } from \"@pureadmin/utils\";\n\ndefineOptions({\n  name: \"WaterMark\"\n});\n\nconst local = ref();\nconst preventLocal = ref();\nconst color = ref(\"#409EFF\");\nconst value = ref(\"vue-pure-admin\");\nconst { setWatermark, clear } = useWatermark();\nconst { setWatermark: setLocalWatermark, clear: clearLocal } =\n  useWatermark(local);\nconst { setWatermark: setPreventLocalWatermark } = useWatermark(preventLocal);\n\nonMounted(() => {\n  nextTick(() => {\n    setPreventLocalWatermark(\"无法删除的水印\", {\n      forever: true,\n      width: 187,\n      height: 80\n    });\n  });\n});\n\nonBeforeUnmount(() => {\n  // 在离开该页面时清除整页水印\n  clear();\n});\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">\n          页面水印功能（将平台主题改为亮白色观察水印效果更明显哦）\n        </span>\n      </div>\n    </template>\n    <span> 请输入要创建水印的值：</span>\n    <el-input\n      class=\"mb-4 mr-4\"\n      style=\"width: 200px\"\n      v-model=\"value\"\n      clearable\n    />\n    <span>请选择要创建水印的颜色：</span>\n    <el-color-picker v-model=\"color\" show-alpha />\n    <br />\n    <el-button @click=\"setWatermark(value, { fillStyle: color })\">\n      创建整页水印\n    </el-button>\n    <el-button\n      @click=\"\n        setWatermark(value, {\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ]\n        })\n      \"\n    >\n      创建整页渐变水印\n    </el-button>\n    <el-button\n      @click=\"\n        setWatermark(value, {\n          rotate: 0,\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ]\n        })\n      \"\n    >\n      创建整页渐变且水平90度的水印\n    </el-button>\n    <el-button\n      @click=\"\n        setWatermark(value, {\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ],\n          shadowConfig: [20]\n        })\n      \"\n    >\n      创建整页渐变且有阴影的水印\n    </el-button>\n    <el-button\n      @click=\"\n        setWatermark(value, {\n          globalAlpha: 0.15, // 值越低越透明\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ]\n        })\n      \"\n    >\n      创建整页高透明渐变水印\n    </el-button>\n    <el-button @click=\"clear\">清除整页水印</el-button>\n\n    <div\n      ref=\"local\"\n      class=\"mt-4 mb-4 w-[1080px] h-[400px] border-dotted border-2 border-sky-500\"\n    />\n    <el-button\n      @click=\"\n        setLocalWatermark('局部水印', {\n          fillStyle: color,\n          width: 140,\n          height: 60\n        })\n      \"\n    >\n      创建局部水印\n    </el-button>\n    <el-button\n      @click=\"\n        setLocalWatermark('局部水印', {\n          width: 140,\n          height: 60,\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ]\n        })\n      \"\n    >\n      创建局部渐变水印\n    </el-button>\n    <el-button\n      @click=\"\n        setLocalWatermark('局部水印', {\n          width: 140,\n          height: 56.5,\n          rotate: 0,\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ]\n        })\n      \"\n    >\n      创建局部渐变且水平90度的水印\n    </el-button>\n    <el-button\n      @click=\"\n        setLocalWatermark('局部水印', {\n          width: 140,\n          height: 56.5,\n          gradient: [\n            { value: 0, color: 'magenta' },\n            { value: 0.5, color: 'blue' },\n            { value: 1.0, color: 'red' }\n          ],\n          shadowConfig: [20]\n        })\n      \"\n    >\n      创建局部渐变且有阴影的水印\n    </el-button>\n    <el-button @click=\"clearLocal\">清除局部水印</el-button>\n\n    <div\n      ref=\"preventLocal\"\n      class=\"mt-4 mb-4 w-[1080px] h-[400px] border-dotted border-2 border-indigo-500\"\n    />\n  </el-card>\n</template>\n"],"names":["local","ref","preventLocal","color","value","setWatermark","clear","useWatermark","setLocalWatermark","clearLocal","setPreventLocalWatermark","onMounted","nextTick","onBeforeUnmount"],"mappings":"sXAQA,MAAMA,EAAQC,IACRC,EAAeD,IACfE,EAAQF,EAAI,SAAS,EACrBG,EAAQH,EAAI,gBAAgB,EAC5B,CAAE,aAAAI,EAAc,MAAAC,CAAM,EAAIC,EAAa,EACvC,CAAE,aAAcC,EAAmB,MAAOC,GAC9CF,EAAaP,CAAK,EACd,CAAE,aAAcU,CAAyB,EAAIH,EAAaL,CAAY,EAE5E,OAAAS,EAAU,IAAM,CACdC,EAAS,IAAM,CACbF,EAAyB,UAAW,CAClC,QAAS,GACT,MAAO,IACP,OAAQ,EAAA,CACT,CAAA,CACF,CAAA,CACF,EAEDG,EAAgB,IAAM,CAEdP,GAAA,CACP"}
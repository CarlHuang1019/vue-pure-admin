var R=Object.defineProperty,T=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var S=(t,e,a)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,N=(t,e)=>{for(var a in e||(e={}))V.call(e,a)&&S(t,a,e[a]);if(b)for(var a of b(e))$.call(e,a)&&S(t,a,e[a]);return t},P=(t,e)=>T(t,I(e));var k=(t,e,a)=>new Promise((v,i)=>{var c=s=>{try{o(a.next(s))}catch(d){i(d)}},u=s=>{try{o(a.throw(s))}catch(d){i(d)}},o=s=>s.done?v(s.value):Promise.resolve(s.value).then(c,u);o((a=a.apply(t,e)).next())});import{d as D,r as g,R as p,c as X,w as h,x as Y,m as j,n as E,u as q,f as z,j as K,K as M,F as O,f$ as G,g0 as H,q as J,e as C,g as _,A as Q,B as U,l as W,_ as Z}from"./index-DZuaHQDs.js";import{P as L,u as ee,d as te,g as ae,e as se,f as ne}from"./vue-flow-core-CxroMy2d.js";const re=t=>(Q("data-v-2aba1cee"),t=t(),U(),t),oe=re(()=>_("span",{class:"truck"},[_("span",{class:"box"},"ðŸ“¦"),W(" ðŸšš ")],-1)),ie=[oe],ue=D({__name:"animationEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:L.Right},targetPosition:{type:String,default:L.Left}},setup(t){const e=t,{findEdge:a}=ee(),v=te([e.target,e.source]),i=g(0),c=g(),u=g({x:0,y:0}),o=g(0),s=p(()=>v.value[0].data),d=p(()=>v.value[1].data),A=p(()=>d.value.isFinished),w=p(()=>s.value.isCancelled),l=g(!1),B=p(()=>s.value.hasError?"#f87171":s.value.isFinished?"#42B983":s.value.isCancelled||s.value.isSkipped?"#fbbf24":s.value.isRunning||l.value?"#2563eb":"#6b7280"),F=X(()=>ae(e));h(w,n=>{n&&x()}),h(l,n=>{const r=a(e.id);r&&(r.data=P(N({},r.data),{isAnimating:n}))}),h(i,n=>{var f;const r=(f=c.value)==null?void 0:f.pathEl;if(!r||n===0||!l.value)return;const m=r.getTotalLength();if(o.value!==m){y();return}u.value=r.getPointAtLength(n)}),h(A,n=>{n&&y()});function y(){return k(this,null,function*(){var f;const n=(f=c.value)==null?void 0:f.pathEl;if(!n)return;const r=n.getTotalLength(),m=i.value||0;u.value=n.getPointAtLength(m),l.value=!0,o.value!==r&&(o.value=r),yield G(i,m,r,{transition:H.easeInOutCubic,duration:Math.max(1500,r/2),abort:()=>!l.value}),x()})}function x(){J(()=>{i.value=0,o.value=0,u.value={x:0,y:0},l.value=!1})}return(n,r)=>(C(),Y(O,null,[j(q(se),{id:t.id,ref_key:"edgeRef",ref:c,path:F.value[0],style:E({stroke:B.value})},null,8,["id","path","style"]),l.value?(C(),z(q(ne),{key:0},{default:K(()=>[_("div",{style:E({transform:`translate(-50%, -50%) translate(${u.value.x}px,${u.value.y}px)`}),class:"nodrag nopan animated-edge-label"},ie,4)]),_:1})):M("",!0)],64))}}),fe=Z(ue,[["__scopeId","data-v-2aba1cee"]]);export{fe as default};

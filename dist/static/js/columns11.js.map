{"version":3,"file":"columns11.js","sources":["../../../src/views/pure-table/high/page/columns.tsx"],"sourcesContent":["import { tableData } from \"../data\";\nimport { clone, delay } from \"@pureadmin/utils\";\nimport { ref, onMounted, reactive, watchEffect } from \"vue\";\nimport type { PaginationProps, LoadingConfig, Align } from \"@pureadmin/table\";\n\nexport function useColumns() {\n  const dataList = ref([]);\n  const loading = ref(true);\n  const select = ref(\"no\");\n  const hideVal = ref(\"nohide\");\n  const tableSize = ref(\"default\");\n  const paginationSmall = ref(false);\n  const paginationAlign = ref(\"right\");\n  const columns: TableColumnList = [\n    {\n      type: \"selection\",\n      align: \"left\",\n      reserveSelection: true,\n      hide: () => (select.value === \"no\" ? true : false)\n    },\n    {\n      label: \"日期\",\n      prop: \"date\",\n      hide: () => (hideVal.value === \"hideDate\" ? true : false)\n    },\n    {\n      label: \"姓名\",\n      prop: \"name\",\n      hide: () => (hideVal.value === \"hideName\" ? true : false)\n    },\n    {\n      label: \"地址\",\n      prop: \"address\",\n      hide: () => (hideVal.value === \"hideAddress\" ? true : false)\n    }\n  ];\n\n  /** 分页配置 */\n  const pagination = reactive<PaginationProps>({\n    pageSize: 10,\n    currentPage: 1,\n    pageSizes: [10, 15, 20],\n    total: 0,\n    align: \"right\",\n    background: true,\n    small: false\n  });\n\n  /** 加载动画配置 */\n  const loadingConfig = reactive<LoadingConfig>({\n    text: \"正在加载第一页...\",\n    viewBox: \"-10, -10, 50, 50\",\n    spinner: `\n        <path class=\"path\" d=\"\n          M 30 15\n          L 28 17\n          M 25.61 25.61\n          A 15 15, 0, 0, 1, 15 30\n          A 15 15, 0, 1, 1, 27.99 7.5\n          L 15 15\n        \" style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"/>\n      `\n    // svg: \"\",\n    // background: rgba()\n  });\n\n  function onChange(val) {\n    pagination.small = val;\n  }\n\n  function onSizeChange(val) {\n    console.log(\"onSizeChange\", val);\n  }\n\n  function onCurrentChange(val) {\n    loadingConfig.text = `正在加载第${val}页...`;\n    loading.value = true;\n    delay(600).then(() => {\n      loading.value = false;\n    });\n  }\n\n  watchEffect(() => {\n    pagination.align = paginationAlign.value as Align;\n  });\n\n  onMounted(() => {\n    delay(600).then(() => {\n      const newList = [];\n      Array.from({ length: 6 }).forEach(() => {\n        newList.push(clone(tableData, true));\n      });\n      newList.flat(Infinity).forEach((item, index) => {\n        dataList.value.push({ id: index, ...item });\n      });\n      pagination.total = dataList.value.length;\n      loading.value = false;\n    });\n  });\n\n  return {\n    loading,\n    columns,\n    dataList,\n    select,\n    hideVal,\n    tableSize,\n    pagination,\n    loadingConfig,\n    paginationAlign,\n    paginationSmall,\n    onChange,\n    onSizeChange,\n    onCurrentChange\n  };\n}\n"],"names":["useColumns","dataList","ref","loading","select","hideVal","tableSize","paginationSmall","paginationAlign","columns","type","align","reserveSelection","hide","value","label","prop","pagination","reactive","pageSize","currentPage","pageSizes","total","background","small","loadingConfig","text","viewBox","spinner","onChange","val","onSizeChange","console","onCurrentChange","delay","watchEffect","onMounted","newList","then","length","clone","tableData","item","index","flat","id"],"mappings":"oGAKO,SAASA,GAAa,CAC3B,MAAMC,EAAWC,EAAI,CAAA,CAAE,EACjBC,EAAUD,EAAI,EAAI,EAClBE,EAASF,EAAI,IAAI,EACjBG,EAAUH,EAAI,QAAQ,EACtBI,EAAYJ,EAAI,SAAS,EACzBK,EAAkBL,EAAI,EAAK,EAC3BM,EAAkBN,EAAI,OAAO,EAC7BO,EAA2B,CAC/B,CACEC,KAAM,YACNC,MAAO,OACPC,iBAAkB,GAClBC,KAAMA,IAAOT,EAAOU,QAAU,IAChC,EACA,CACEC,MAAO,KACPC,KAAM,OACNH,KAAMA,IAAOR,EAAQS,QAAU,UACjC,EACA,CACEC,MAAO,KACPC,KAAM,OACNH,KAAMA,IAAOR,EAAQS,QAAU,UACjC,EACA,CACEC,MAAO,KACPC,KAAM,UACNH,KAAMA,IAAOR,EAAQS,QAAU,aACjC,CAAC,EAIGG,EAAaC,EAA0B,CAC3CC,SAAU,GACVC,YAAa,EACbC,UAAW,CAAC,GAAI,GAAI,EAAE,EACtBC,MAAO,EACPX,MAAO,QACPY,WAAY,GACZC,MAAO,EACT,CAAC,EAGKC,EAAgBP,EAAwB,CAC5CQ,KAAM,aACNC,QAAS,mBACTC,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYZ,CAAC,EAED,SAASC,EAASC,EAAK,CACrBb,EAAWO,MAAQM,CACrB,CAEA,SAASC,EAAaD,EAAK,CAAA,CACzBE,SAAOC,EAAmBH,EAAEA,CAC9BL,EAAA,KAAA,QAAAK,CAAA,OAESG,EAAAA,MAAAA,GACPR,EAAAA,GAAAA,EAAAA,KAAcC,IAAQ,CACfvB,EAAM,MAAO,EACpB+B,CAAAA,EAEA,OAAAC,EAAE,IAAA,CACJlB,EAAA,MAAAT,EAAA,KAEA2B,CAAAA,EACElB,EAAAA,IAAWN,CACXuB,EAAA,GAAA,EAAA,KAAA,IAAA,CAEFE,MAAUC,EAAM,CAAA,EACdH,MAAS,KAAEI,CACHD,OAAAA,EACD,EAAA,QAAM,IAAA,CAAEE,EAAQ,KAAAC,EAAAC,EAAA,EAAA,CAAA,CAAE,CAAC,IACf,QAAYA,EAAS,QAAA,CAAEC,EAAMC,IAAA,CACpC1C,EAAA,MAAA,KAAA,CACFoC,GAAQO,EACN3C,GAAAA,CAAsB4C,CAAAA,IAAmB5B,EAAE,MAAAhB,EAAA,MAAA,OAC7CE,EAAE,MAAA,EACFc,CAAAA,IAEA,CACF,QAAAd,EAEK,QAAAM,EACLN,SAAAA,EACAM,OAAAA,EACAR,QAAAA,EACAG,UAAAA,EACAC,WAAAA,EACAC,cAAAA,EACAW,gBAAAA,EACAQ,gBAAAA,EACAjB,SAAAA,EACAD,aAAAA,EACAsB,gBAAAA,EAEAI"}
{"version":3,"file":"directives.js","sources":["../../../src/views/able/directives.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { message } from \"@/utils/message\";\n\ndefineOptions({\n  name: \"Directives\"\n});\n\nconst search = ref(\"\");\nconst searchTwo = ref(\"\");\nconst searchThree = ref(\"\");\nconst searchFour = ref(\"\");\nconst searchFive = ref(\"\");\nconst searchSix = ref(\"copy\");\nconst text = ref(\"可复制的文本\");\nconst long = ref(false);\nconst cbText = ref(\"\");\nconst idx = ref(0);\n\nfunction onInput() {\n  message(search.value);\n}\nfunction onInputTwo() {\n  message(searchTwo.value);\n}\nfunction onInputThree({ name, sex }) {\n  message(`${name}${sex}${searchThree.value}`);\n}\n\nfunction onInputFour() {\n  message(searchFour.value);\n}\nfunction onInputFive({ name, sex }) {\n  message(`${name}${sex}${searchFive.value}`);\n}\n\nfunction onLongpress() {\n  long.value = true;\n}\nfunction onCustomLongpress() {\n  long.value = true;\n}\nfunction onCbLongpress() {\n  idx.value += 1;\n  long.value = true;\n  cbText.value = `持续回调${idx.value}次`;\n}\nfunction onReset() {\n  long.value = false;\n  cbText.value = \"\";\n  idx.value = 0;\n}\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">自定义防抖、截流、文本复制、长按指令</span>\n      </div>\n    </template>\n    <div class=\"mb-2\">\n      防抖指令（连续输入，只会执行第一次点击事件，立即执行）\n      <el-input\n        v-optimize=\"{\n          event: 'input',\n          fn: onInput,\n          immediate: true,\n          timeout: 1000\n        }\"\n        v-model=\"search\"\n        class=\"!w-[200px]\"\n        clearable\n        @clear=\"onInput\"\n      />\n    </div>\n    <div class=\"mb-2\">\n      防抖指令（连续输入，只会执行最后一次事件，延后执行）\n      <el-input\n        v-optimize=\"{ event: 'input', fn: onInputTwo, timeout: 400 }\"\n        v-model=\"searchTwo\"\n        class=\"!w-[200px]\"\n        clearable\n      />\n    </div>\n    <div>\n      防抖指令（连续输入，只会执行最后一次事件，延后执行，传参用法）\n      <el-input\n        v-optimize=\"{\n          event: 'input',\n          fn: onInputThree,\n          timeout: 400,\n          params: { name: '小明', sex: '男' }\n        }\"\n        v-model=\"searchThree\"\n        class=\"!w-[200px]\"\n        clearable\n      />\n    </div>\n\n    <el-divider />\n\n    <div class=\"mb-2\">\n      节流指令（连续输入，每一秒只会执行一次事件）\n      <el-input\n        v-optimize:throttle=\"{ event: 'input', fn: onInputFour, timeout: 1000 }\"\n        v-model=\"searchFour\"\n        class=\"!w-[200px]\"\n        clearable\n      />\n    </div>\n    <div>\n      节流指令（连续输入，每一秒只会执行一次事件，传参用法）\n      <el-input\n        v-optimize:throttle=\"{\n          event: 'input',\n          fn: onInputFive,\n          params: { name: '小明', sex: '男' }\n        }\"\n        v-model=\"searchFive\"\n        class=\"!w-[200px]\"\n        clearable\n      />\n    </div>\n\n    <el-divider />\n\n    <div class=\"mb-2\">\n      文本复制指令（双击输入框内容即可复制）\n      <el-input v-copy=\"searchSix\" v-model=\"searchSix\" class=\"!w-[200px]\" />\n    </div>\n    <div>\n      文本复制指令（自定义触发事件，单击复制）\n      <span v-copy:click=\"text\" class=\"text-sky-500\">{{ text }}</span>\n    </div>\n\n    <el-divider />\n    <el-space wrap>\n      长按指令\n      <el-button v-longpress=\"onLongpress\">长按（默认500ms）</el-button>\n      <el-button v-longpress:1000=\"onCustomLongpress\">\n        自定义长按时长（1000ms）\n      </el-button>\n      <el-button v-longpress:2000:200=\"onCbLongpress\">\n        2秒后每200ms持续回调\n      </el-button>\n      <el-button @click=\"onReset\"> 重置状态 </el-button>\n      <el-tag :type=\"long ? 'success' : 'info'\" class=\"ml-2\" size=\"large\">\n        {{ long ? \"当前为长按状态\" : \"当前非长按状态\" }}\n      </el-tag>\n      <el-tag v-if=\"cbText\" type=\"danger\" class=\"ml-2\" size=\"large\">\n        {{ cbText }}\n      </el-tag>\n    </el-space>\n  </el-card>\n</template>\n"],"names":["search","ref","searchTwo","searchThree","searchFour","searchFive","searchSix","text","long","cbText","idx","onInput","message","onInputTwo","onInputThree","name","sex","onInputFour","onInputFive","onLongpress","onCustomLongpress","onCbLongpress","onReset"],"mappings":"oXAQM,MAAAA,EAASC,EAAI,EAAE,EACfC,EAAYD,EAAI,EAAE,EAClBE,EAAcF,EAAI,EAAE,EACpBG,EAAaH,EAAI,EAAE,EACnBI,EAAaJ,EAAI,EAAE,EACnBK,EAAYL,EAAI,MAAM,EACtBM,EAAON,EAAI,QAAQ,EACnBO,EAAOP,EAAI,EAAK,EAChBQ,EAASR,EAAI,EAAE,EACfS,EAAMT,EAAI,CAAC,EAEjB,SAASU,GAAU,CACjBC,EAAQZ,EAAO,KAAK,CACtB,CACA,SAASa,GAAa,CACpBD,EAAQV,EAAU,KAAK,CACzB,CACA,SAASY,EAAa,CAAE,KAAAC,EAAM,IAAAC,GAAO,CACnCJ,EAAQ,GAAGG,CAAI,GAAGC,CAAG,GAAGb,EAAY,KAAK,EAAE,CAC7C,CAEA,SAASc,GAAc,CACrBL,EAAQR,EAAW,KAAK,CAC1B,CACA,SAASc,EAAY,CAAE,KAAAH,EAAM,IAAAC,GAAO,CAClCJ,EAAQ,GAAGG,CAAI,GAAGC,CAAG,GAAGX,EAAW,KAAK,EAAE,CAC5C,CAEA,SAASc,GAAc,CACrBX,EAAK,MAAQ,EACf,CACA,SAASY,GAAoB,CAC3BZ,EAAK,MAAQ,EACf,CACA,SAASa,GAAgB,CACvBX,EAAI,OAAS,EACbF,EAAK,MAAQ,GACNC,EAAA,MAAQ,OAAOC,EAAI,KAAK,GACjC,CACA,SAASY,GAAU,CACjBd,EAAK,MAAQ,GACbC,EAAO,MAAQ,GACfC,EAAI,MAAQ,CACd"}
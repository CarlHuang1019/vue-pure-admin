var p=(i,r,e)=>new Promise((a,n)=>{var u=t=>{try{v(e.next(t))}catch(w){n(w)}},d=t=>{try{v(e.throw(t))}catch(w){n(w)}},v=t=>t.done?a(t.value):Promise.resolve(t.value).then(u,d);v((e=e.apply(i,r)).next())});import{r as R,af as o,fv as s,fN as h,f_ as C,a as E,ab as I}from"./index-BXHkKmv3.js";const y=/^\d{6}$/,$=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,z=R({password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):$.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):h().verifyCode!==r?e(new Error(o(s("login.verifyCodeCorrectReg")))):e()},trigger:"blur"}]}),S=R({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}]}),Z=R({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):$.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}]}),f=E(!1),l=E(null),g=E(""),P=()=>({isDisabled:f,timer:l,text:g,start:(e,a,n=60)=>p(void 0,null,function*(){if(!e)return;const u=I(n,!0);yield e.validateField(a,d=>{d&&(clearInterval(l.value),f.value=!0,g.value=`${n}`,l.value=setInterval(()=>{n>0?(n-=1,g.value=`${n}`):(g.value="",f.value=!1,clearInterval(l.value),n=u)},1e3))})}),end:()=>{g.value="",f.value=!1,clearInterval(l.value)}});export{Z as a,z as l,S as p,P as u};

{"version":3,"file":"menu-tree.js","sources":["../../../node_modules/.pnpm/@iconify-icons+ri@1.2.10/node_modules/@iconify-icons/ri/node-tree.js","../../../src/views/able/menu-tree.vue"],"sourcesContent":["const data = {\n\t\"width\": 24,\n\t\"height\": 24,\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M10 2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8v2h5V9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H8v6h5v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H7a1 1 0 0 1-1-1V8H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h6Zm9 16h-4v2h4v-2Zm0-8h-4v2h4v-2ZM9 4H5v2h4V4Z\\\"/>\"\n};\nexport default data;\n","<script setup lang=\"ts\">\nimport { ref, computed } from \"vue\";\nimport { clone } from \"@pureadmin/utils\";\nimport type { ElTreeV2 } from \"element-plus\";\nimport { transformI18n } from \"@/plugins/i18n\";\nimport { useRenderIcon } from \"@/components/ReIcon/src/hooks\";\nimport { extractPathList, deleteChildren } from \"@/utils/tree\";\nimport { usePermissionStoreHook } from \"@/store/modules/permission\";\nimport type { TreeNode } from \"element-plus/es/components/tree-v2/src/types\";\nimport NodeTree from \"@iconify-icons/ri/node-tree\";\n\ndefineOptions({\n  name: \"MenuTree\"\n});\n\ninterface treeNode extends TreeNode {\n  meta: {\n    title: string;\n  };\n}\n\nconst query = ref(\"\");\nconst dataProps = ref({\n  value: \"uniqueId\",\n  children: \"children\"\n});\nconst treeRef = ref<InstanceType<typeof ElTreeV2>>();\nconst menusTree = clone(usePermissionStoreHook().wholeMenus, true);\n\nconst menusData = computed(() => {\n  return deleteChildren(menusTree);\n});\n\nconst expandedKeys = extractPathList(menusData.value);\n\nconst onQueryChanged = (query: string) => {\n  (treeRef as any).value!.filter(query);\n};\n\nconst filterMethod = (query: string, node: treeNode) => {\n  return transformI18n(node.meta.title)!.indexOf(query) !== -1;\n};\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">\n          菜单树结构（采用element-plus的\n          <el-link\n            href=\"https://element-plus.gitee.io/zh-CN/component/tree-v2.html\"\n            target=\"_blank\"\n            :icon=\"useRenderIcon(NodeTree)\"\n            style=\"margin: 0 5px 4px 0; font-size: 16px\"\n          >\n            Tree V2\n          </el-link>\n          组件并支持国际化）\n        </span>\n      </div>\n    </template>\n    <el-input\n      class=\"mb-4\"\n      v-model=\"query\"\n      placeholder=\"请输入关键字查找\"\n      clearable\n      @input=\"onQueryChanged\"\n    />\n    <el-tree-v2\n      ref=\"treeRef\"\n      :data=\"menusData\"\n      :props=\"dataProps\"\n      show-checkbox\n      :height=\"500\"\n      :filter-method=\"filterMethod\"\n      :default-expanded-keys=\"expandedKeys\"\n    >\n      <template #default=\"{ data }\">\n        <span>{{ transformI18n(data.meta.title) }}</span>\n      </template>\n    </el-tree-v2>\n  </el-card>\n</template>\n"],"names":["data","query","ref","dataProps","treeRef","menusTree","clone","usePermissionStoreHook","menusData","computed","deleteChildren","expandedKeys","extractPathList","onQueryChanged","filterMethod","node","transformI18n"],"mappings":"yKAAA,MAAMA,EAAO,CACZ,MAAS,GACT,OAAU,GACV,KAAQ,2TACT,mGCiBM,MAAAC,EAAQC,EAAI,EAAE,EACdC,EAAYD,EAAI,CACpB,MAAO,WACP,SAAU,UAAA,CACX,EACKE,EAAUF,IACVG,EAAYC,EAAMC,EAAuB,EAAE,WAAY,EAAI,EAE3DC,EAAYC,EAAS,IAClBC,EAAeL,CAAS,CAChC,EAEKM,EAAeC,EAAgBJ,EAAU,KAAK,EAE9CK,EAAkBZ,GAAkB,CACvCG,EAAgB,MAAO,OAAOH,CAAK,CAAA,EAGhCa,EAAe,CAACb,EAAec,IAC5BC,EAAcD,EAAK,KAAK,KAAK,EAAG,QAAQd,CAAK,IAAM","x_google_ignoreList":[0]}
import{useRole as E}from"./hook-CtZOxy8I.js";import{R as W,P as U}from"./refresh-BGBAVZja.js";import{u as f}from"./hooks-BqtzSiMD.js";import{D as I}from"./delete-BUVqmax5.js";import{d as j,r as y,b as s,j as A,e as w,k as b,i as a,w as l,u as o,h as d,m as $,f as C,B as q,C as G,_ as J}from"./index-CvMaiMTT.js";import"./system-DScQ4Zi5.js";import"./hooks-DvHEqsS6.js";import"./epTheme-BsMMJ5w_.js";import"./sortable.esm-6WsHlDA5.js";const K=()=>[{text:"今天",value:()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date;return t.setHours(23,59,59,999),[e,t]}},{text:"昨天",value:()=>{const e=new Date;e.setDate(e.getDate()-1),e.setHours(0,0,0,0);const t=new Date;return t.setDate(t.getDate()-1),t.setHours(23,59,59,999),[e,t]}},{text:"前天",value:()=>{const e=new Date;e.setDate(e.getDate()-2),e.setHours(0,0,0,0);const t=new Date;return t.setDate(t.getDate()-2),t.setHours(23,59,59,999),[e,t]}},{text:"本周",value:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+(e.getDay()===0?-6:1));t.setHours(0,0,0,0);const n=new Date(t.getTime()+6*24*60*60*1e3+23*60*60*1e3+59*60*1e3+59*1e3+999);return[t,n]}},{text:"上周",value:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()-7+(e.getDay()===0?-6:1));t.setHours(0,0,0,0);const n=new Date(t.getTime()+6*24*60*60*1e3+23*60*60*1e3+59*60*1e3+59*1e3+999);return[t,n]}},{text:"本月",value:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);t.setHours(0,0,0,0);const n=new Date(e.getFullYear(),e.getMonth()+1,0);return n.setHours(23,59,59,999),[t,n]}},{text:"上个月",value:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1);t.setHours(0,0,0,0);const n=new Date(e.getFullYear(),e.getMonth(),0);return n.setHours(23,59,59,999),[t,n]}},{text:"本年",value:()=>{const e=new Date,t=new Date(e.getFullYear(),0,1);t.setHours(0,0,0,0);const n=new Date(e.getFullYear(),11,31);return n.setHours(23,59,59,999),[t,n]}}],Q={class:"main"},X={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},Z={class:"flex-auto"},ee={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},te=j({name:"LoginLog",__name:"index",setup(e){const t=y(),n=y(),{form:i,loading:p,columns:v,dataList:x,pagination:k,selectedNum:g,onSearch:_,clearAll:H,resetForm:V,onbatchDel:S,handleSizeChange:Y,onSelectionCancel:M,handleCurrentChange:O,handleSelectionChange:R}=E(n);return(oe,c)=>{const F=s("el-input"),m=s("el-form-item"),h=s("el-option"),L=s("el-select"),P=s("el-date-picker"),u=s("el-button"),T=s("el-form"),D=s("el-popconfirm"),B=s("pure-table"),z=A("motion-fade");return w(),b("div",Q,[a(T,{ref_key:"formRef",ref:t,inline:!0,model:o(i),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:l(()=>[a(m,{label:"用户名",prop:"username"},{default:l(()=>[a(F,{modelValue:o(i).username,"onUpdate:modelValue":c[0]||(c[0]=r=>o(i).username=r),placeholder:"请输入用户名",clearable:"",class:"!w-[150px]"},null,8,["modelValue"])]),_:1}),a(m,{label:"登录状态",prop:"status"},{default:l(()=>[a(L,{modelValue:o(i).status,"onUpdate:modelValue":c[1]||(c[1]=r=>o(i).status=r),placeholder:"请选择",clearable:"",class:"!w-[150px]"},{default:l(()=>[a(h,{label:"成功",value:"1"}),a(h,{label:"失败",value:"0"})]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"登录时间",prop:"loginTime"},{default:l(()=>[a(P,{modelValue:o(i).loginTime,"onUpdate:modelValue":c[2]||(c[2]=r=>o(i).loginTime=r),shortcuts:o(K)(),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期时间","end-placeholder":"结束日期时间"},null,8,["modelValue","shortcuts"])]),_:1}),a(m,null,{default:l(()=>[a(u,{type:"primary",icon:o(f)("ri:search-line"),loading:o(p),onClick:o(_)},{default:l(()=>[d(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),a(u,{icon:o(f)(o(W)),onClick:c[3]||(c[3]=r=>o(V)(t.value))},{default:l(()=>[d(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),a(o(U),{title:"登录日志（仅演示，操作后不生效）",columns:o(v),onRefresh:o(_)},{buttons:l(()=>[a(D,{title:"确定要删除所有日志数据吗？",onConfirm:o(H)},{reference:l(()=>[a(u,{type:"danger",icon:o(f)(o(I))},{default:l(()=>[d(" 清空日志 ")]),_:1},8,["icon"])]),_:1},8,["onConfirm"])]),default:l(({size:r,dynamicColumns:N})=>[o(g)>0?$((w(),b("div",X,[C("div",Z,[C("span",ee," 已选 "+q(o(g))+" 项 ",1),a(u,{type:"primary",text:"",onClick:o(M)},{default:l(()=>[d(" 取消选择 ")]),_:1},8,["onClick"])]),a(D,{title:"是否确认删除?",onConfirm:o(S)},{reference:l(()=>[a(u,{type:"danger",text:"",class:"mr-1"},{default:l(()=>[d(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[z]]):G("",!0),a(B,{ref_key:"tableRef",ref:n,"row-key":"id","align-whole":"center","table-layout":"auto",loading:o(p),size:r,adaptive:"",adaptiveConfig:{offsetBottom:108},data:o(x),columns:N,pagination:o(k),paginationSmall:r==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:o(R),onPageSizeChange:o(Y),onPageCurrentChange:o(O)},null,8,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}}),me=J(te,[["__scopeId","data-v-fc20fdc7"]]);export{me as default};

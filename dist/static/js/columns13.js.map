{"version":3,"file":"columns13.js","sources":["../../../src/views/pure-table/high/table-select/multiple/columns.tsx"],"sourcesContent":["import { tableDataEdit } from \"../../data\";\nimport { ref, reactive, type Ref } from \"vue\";\nimport type { PaginationProps } from \"@pureadmin/table\";\n\nexport function useColumns(selectRef: Ref, tableRef: Ref) {\n  const selectValue = ref([]);\n  const columns: TableColumnList = [\n    {\n      type: \"selection\",\n      align: \"left\"\n    },\n    {\n      label: \"ID\",\n      prop: \"id\",\n      width: 80\n    },\n    {\n      label: \"日期\",\n      prop: \"date\"\n    },\n    {\n      label: \"姓名\",\n      prop: \"name\"\n    },\n    {\n      label: \"地址\",\n      prop: \"address\"\n    }\n  ];\n\n  /** 分页配置 */\n  const pagination = reactive<PaginationProps>({\n    pageSize: 10,\n    currentPage: 1,\n    layout: \"prev, pager, next\",\n    total: tableDataEdit.length,\n    background: true,\n    small: true\n  });\n\n  const handleSelectionChange = val => {\n    const arr = [];\n    val.forEach(v => {\n      arr.push(v.name);\n    });\n    selectValue.value = arr;\n  };\n\n  const removeTag = val => {\n    // TODO optimize el-select add formatter\n    const { toggleRowSelection } = tableRef.value.getTableRef();\n    toggleRowSelection(tableDataEdit.filter(v => v.name === val)[0], false);\n  };\n\n  const onClear = () => {\n    const { clearSelection } = tableRef.value.getTableRef();\n    clearSelection();\n  };\n\n  const onSure = () => {\n    selectRef.value.blur();\n  };\n\n  return {\n    columns,\n    pagination,\n    selectValue,\n    tableDataEdit,\n    onSure,\n    onClear,\n    removeTag,\n    handleSelectionChange\n  };\n}\n"],"names":["useColumns","selectRef","tableRef","selectValue","ref","columns","type","align","label","prop","width","pagination","reactive","pageSize","currentPage","layout","total","tableDataEdit","length","background","small","onSure","value","blur","onClear","clearSelection","getTableRef","removeTag","val","toggleRowSelection","filter","v","name","handleSelectionChange","arr","forEach","push"],"mappings":"sEAIO,SAASA,EAAWC,EAAgBC,EAAe,CACxD,MAAMC,EAAcC,EAAI,CAAA,CAAE,EACpBC,EAA2B,CAC/B,CACEC,KAAM,YACNC,MAAO,MACT,EACA,CACEC,MAAO,KACPC,KAAM,KACNC,MAAO,EACT,EACA,CACEF,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,KACPC,KAAM,MACR,EACA,CACED,MAAO,KACPC,KAAM,SACR,CAAC,EAIGE,EAAaC,EAA0B,CAC3CC,SAAU,GACVC,YAAa,EACbC,OAAQ,oBACRC,MAAOC,EAAcC,OACrBC,WAAY,GACZC,MAAO,EACT,CAAC,EAyBD,MAAO,CACLf,QAAAA,EACAM,WAAAA,EACAR,YAAAA,EACAc,cAAAA,EACAI,OATaA,IAAM,CACnBpB,EAAUqB,MAAMC,QAShBC,QAfcA,IAAM,CACpB,KAAM,CAAEC,eAAAA,CAAe,EAAIvB,EAASoB,MAAMI,cAC1CD,KAcAE,UAtBgBC,GAAO,CAEvB,KAAM,CAAEC,mBAAAA,CAAmB,EAAI3B,EAASoB,MAAMI,cAC9CG,EAAmBZ,EAAca,OAAOC,GAAKA,EAAEC,OAASJ,CAAG,EAAE,CAAC,EAAG,EAAK,GAoBtEK,sBA/B4BL,GAAO,CACnC,MAAMM,EAAM,CAAA,EACZN,EAAIO,QAAQJ,GAAK,CACfG,EAAIE,KAAKL,EAAEC,IAAI,CACjB,CAAC,EACD7B,EAAYmB,MAAQY,GA4BxB"}
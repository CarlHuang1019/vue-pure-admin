{"version":3,"file":"upload.vue_vue_type_script_setup_true_lang.js","sources":["../../../src/views/system/user/upload.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { ref } from \"vue\";\nimport ReCropper from \"@/components/ReCropper\";\nimport { formatBytes } from \"@pureadmin/utils\";\n\nconst props = defineProps({\n  imgSrc: String\n});\n\nconst emit = defineEmits([\"cropper\"]);\n\nconst infos = ref();\nconst refCropper = ref();\nconst showPopover = ref(false);\nconst cropperImg = ref<string>(\"\");\n\nfunction onCropper({ base64, blob, info }) {\n  infos.value = info;\n  cropperImg.value = base64;\n  emit(\"cropper\", { base64, blob, info });\n}\n</script>\n\n<template>\n  <div v-loading=\"!showPopover\" element-loading-background=\"transparent\">\n    <el-popover :visible=\"showPopover\" placement=\"right\" width=\"18vw\">\n      <template #reference>\n        <div class=\"w-[18vw]\">\n          <ReCropper\n            ref=\"refCropper\"\n            :src=\"props.imgSrc\"\n            circled\n            @cropper=\"onCropper\"\n            @readied=\"showPopover = true\"\n          />\n          <p class=\"mt-1 text-center\" v-show=\"showPopover\">\n            温馨提示：右键上方裁剪区可开启功能菜单\n          </p>\n        </div>\n      </template>\n      <div class=\"flex flex-wrap justify-center items-center text-center\">\n        <el-image\n          v-if=\"cropperImg\"\n          :src=\"cropperImg\"\n          :preview-src-list=\"Array.of(cropperImg)\"\n          fit=\"cover\"\n        />\n        <div v-if=\"infos\" class=\"mt-1\">\n          <p>\n            图像大小：{{ parseInt(infos.width) }} ×\n            {{ parseInt(infos.height) }}像素\n          </p>\n          <p>\n            文件大小：{{ formatBytes(infos.size) }}（{{ infos.size }} 字节）\n          </p>\n        </div>\n      </div>\n    </el-popover>\n  </div>\n</template>\n"],"names":["infos","ref","refCropper","showPopover","cropperImg","onCropper","base64","blob","info","value","emit"],"mappings":"ocAWMA,EAAQC,IACRC,EAAaD,IACbE,EAAcF,EAAI,EAAK,EACvBG,EAAaH,EAAY,EAAE,EAEjC,SAASI,EAAU,CAAEC,OAAAA,EAAQC,KAAAA,EAAMC,KAAAA,CAAK,EAAG,CACzCR,EAAMS,MAAQD,EACdJ,EAAWK,MAAQH,EACnBI,EAAK,UAAW,CAAEJ,OAAAA,EAAQC,KAAAA,EAAMC,KAAAA,CAAK,CAAC,CACxC"}
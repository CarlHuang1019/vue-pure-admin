var A=Object.defineProperty;var R=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var k=(l,s,t)=>s in l?A(l,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[s]=t,o=(l,s)=>{for(var t in s||(s={}))C.call(s,t)&&k(l,t,s[t]);if(R)for(var t of R(s))X.call(s,t)&&k(l,t,s[t]);return l};import{u as B}from"./hooks-CFzL8YXt.js";import{d as L,a as d,ar as N,a1 as T,c_ as I,W,n as V,h as n,cT as _,y as v,B as q,A as j,ag as z,N as D,a0 as p}from"./index-BXHkKmv3.js";const E={options:{type:Array,default:()=>[]},modelValue:{type:void 0,require:!1,default:"0"},block:{type:Boolean,default:!1},size:{type:String}},F=L({name:"ReSegmented",props:E,emits:["change","update:modelValue"],setup(l,{emit:s}){const t=d(0),g=d(0),{isDark:i}=N(),b=d(!1),c=d(-1),m=d(""),f=T(),r=I(l.modelValue)?W(l,"modelValue"):d(0);function M({option:e,index:a},u){e.disabled||(u.preventDefault(),I(l.modelValue)?s("update:modelValue",a):r.value=a,m.value="",s("change",{index:a,option:e}))}function S({option:e,index:a},u){u.preventDefault(),c.value=a,e.disabled||r.value===a?m.value="":m.value=i.value?"#1f1f1f":"rgba(0, 0, 0, 0.06)"}function $(e,a){a.preventDefault(),c.value=-1}function h(e=r.value){v(()=>{var u;const a=(u=f==null?void 0:f.proxy)==null?void 0:u.$refs[`labelRef${e}`];a&&(t.value=a.clientWidth,g.value=a.offsetLeft,b.value=!0)})}function y(){_(".pure-segmented",()=>{v(()=>{h(r.value)})})}l.block&&y(),V(()=>r.value,e=>{v(()=>{h(e)})},{immediate:!0}),V(()=>l.size,y);const w=()=>l.options.map((e,a)=>n("label",{ref:`labelRef${a}`,class:["pure-segmented-item",(e==null?void 0:e.disabled)&&"pure-segmented-item-disabled"],style:{background:c.value===a?m.value:"",color:!e.disabled&&(r.value===a||c.value===a)?i.value?"rgba(255, 255, 255, 0.85)":"rgba(0,0,0,.88)":""},onMouseenter:u=>S({option:e,index:a},u),onMouseleave:u=>$({option:e,index:a},u),onClick:u=>M({option:e,index:a},u)},[n("input",{type:"radio",name:"segmented"},null),q(n("div",{class:"pure-segmented-item-label"},[e.icon&&!z(e.label)?n("span",{class:"pure-segmented-item-icon",style:{marginRight:e.label?"6px":0}},[D(B(e.icon,o({},e==null?void 0:e.iconAttrs)))]):null,e.label?z(e.label)?D(e.label):n("span",null,[e.label]):null]),[[j("tippy"),{content:e==null?void 0:e.tip,zIndex:41e3}]])]));return()=>n("div",{class:{"pure-segmented":!0,"pure-segmented-block":l.block,"pure-segmented--large":l.size==="large","pure-segmented--small":l.size==="small"}},[n("div",{class:"pure-segmented-group"},[n("div",{class:"pure-segmented-item-selected",style:{width:`${t.value}px`,transform:`translateX(${g.value}px)`,display:b.value?"block":"none"}},null),w()])])}}),K=p(F);export{K as R};

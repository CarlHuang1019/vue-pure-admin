{"version":3,"file":"index3.js","sources":["../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/decoder.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/fetcher.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/event-emitter.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/player.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/draggable.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/renderer.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/timer.js","../../../node_modules/.pnpm/wavesurfer.js@7.1.5/node_modules/wavesurfer.js/dist/wavesurfer.js","../../../src/views/able/wavesurfer/svg/play.svg?component","../../../src/views/able/wavesurfer/svg/pause.svg?component","../../../src/views/able/wavesurfer/svg/forward.svg?component","../../../src/views/able/wavesurfer/svg/rewind.svg?component","../../../src/views/able/wavesurfer/index.vue"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** Decode an array buffer into an audio buffer */\nfunction decode(audioData, sampleRate) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const audioCtx = new AudioContext({ sampleRate });\n        const decode = audioCtx.decodeAudioData(audioData);\n        return decode.finally(() => audioCtx.close());\n    });\n}\n/** Normalize peaks to -1..1 */\nfunction normalize(channelData) {\n    const firstChannel = channelData[0];\n    if (firstChannel.some((n) => n > 1 || n < -1)) {\n        const length = firstChannel.length;\n        let max = 0;\n        for (let i = 0; i < length; i++) {\n            const absN = Math.abs(firstChannel[i]);\n            if (absN > max)\n                max = absN;\n        }\n        for (const channel of channelData) {\n            for (let i = 0; i < length; i++) {\n                channel[i] /= max;\n            }\n        }\n    }\n    return channelData;\n}\n/** Create an audio buffer from pre-decoded audio data */\nfunction createBuffer(channelData, duration) {\n    // If a single array of numbers is passed, make it an array of arrays\n    if (typeof channelData[0] === 'number')\n        channelData = [channelData];\n    // Normalize to -1..1\n    normalize(channelData);\n    return {\n        duration,\n        length: channelData[0].length,\n        sampleRate: channelData[0].length / duration,\n        numberOfChannels: channelData.length,\n        getChannelData: (i) => channelData === null || channelData === void 0 ? void 0 : channelData[i],\n        copyFromChannel: AudioBuffer.prototype.copyFromChannel,\n        copyToChannel: AudioBuffer.prototype.copyToChannel,\n    };\n}\nconst Decoder = {\n    decode,\n    createBuffer,\n};\nexport default Decoder;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction fetchBlob(url, progressCallback, requestInit) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        // Fetch the resource\n        const response = yield fetch(url, requestInit);\n        // Read the data to track progress\n        {\n            const reader = (_a = response.clone().body) === null || _a === void 0 ? void 0 : _a.getReader();\n            const contentLength = Number((_b = response.headers) === null || _b === void 0 ? void 0 : _b.get('Content-Length'));\n            let receivedLength = 0;\n            // Process the data\n            const processChunk = (done, value) => __awaiter(this, void 0, void 0, function* () {\n                if (done)\n                    return;\n                // Add to the received length\n                receivedLength += (value === null || value === void 0 ? void 0 : value.length) || 0;\n                const percentage = Math.round((receivedLength / contentLength) * 100);\n                progressCallback(percentage);\n                // Continue reading data\n                return reader === null || reader === void 0 ? void 0 : reader.read().then(({ done, value }) => processChunk(done, value));\n            });\n            reader === null || reader === void 0 ? void 0 : reader.read().then(({ done, value }) => processChunk(done, value));\n        }\n        return response.blob();\n    });\n}\nconst Fetcher = {\n    fetchBlob,\n};\nexport default Fetcher;\n","/** A simple event emitter that can be used to listen to and emit events. */\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    /** Subscribe to an event. Returns an unsubscribe function. */\n    on(eventName, listener) {\n        if (!this.listeners[eventName]) {\n            this.listeners[eventName] = new Set();\n        }\n        this.listeners[eventName].add(listener);\n        return () => this.un(eventName, listener);\n    }\n    /** Subscribe to an event only once */\n    once(eventName, listener) {\n        // The actual subscription\n        const unsubscribe = this.on(eventName, listener);\n        // Another subscription that will unsubscribe the actual subscription and itself after the first event\n        const unsubscribeOnce = this.on(eventName, () => {\n            unsubscribe();\n            unsubscribeOnce();\n        });\n        return unsubscribe;\n    }\n    /** Unsubscribe from an event */\n    un(eventName, listener) {\n        if (this.listeners[eventName]) {\n            if (listener) {\n                this.listeners[eventName].delete(listener);\n            }\n            else {\n                delete this.listeners[eventName];\n            }\n        }\n    }\n    /** Clear all events */\n    unAll() {\n        this.listeners = {};\n    }\n    /** Emit an event */\n    emit(eventName, ...args) {\n        if (this.listeners[eventName]) {\n            this.listeners[eventName].forEach((listener) => listener(...args));\n        }\n    }\n}\nexport default EventEmitter;\n","import EventEmitter from './event-emitter.js';\nclass Player extends EventEmitter {\n    constructor(options) {\n        super();\n        if (options.media) {\n            this.media = options.media;\n        }\n        else {\n            this.media = document.createElement('audio');\n        }\n        // Controls\n        if (options.mediaControls) {\n            this.media.controls = true;\n        }\n        // Autoplay\n        if (options.autoplay) {\n            this.media.autoplay = true;\n        }\n        // Speed\n        if (options.playbackRate != null) {\n            this.onceMediaEvent('canplay', () => {\n                if (options.playbackRate != null) {\n                    this.media.playbackRate = options.playbackRate;\n                }\n            });\n        }\n    }\n    onMediaEvent(event, callback, options) {\n        this.media.addEventListener(event, callback, options);\n        return () => this.media.removeEventListener(event, callback);\n    }\n    onceMediaEvent(event, callback) {\n        return this.onMediaEvent(event, callback, { once: true });\n    }\n    getSrc() {\n        return this.media.currentSrc || this.media.src || '';\n    }\n    revokeSrc() {\n        const src = this.getSrc();\n        if (src.startsWith('blob:')) {\n            URL.revokeObjectURL(src);\n        }\n    }\n    setSrc(url, blob) {\n        const src = this.getSrc();\n        if (src === url)\n            return;\n        this.revokeSrc();\n        const newSrc = blob instanceof Blob ? URL.createObjectURL(blob) : url;\n        this.media.src = newSrc;\n        this.media.load();\n    }\n    destroy() {\n        this.media.pause();\n        this.revokeSrc();\n        this.media.src = '';\n        // Load resets the media element to its initial state\n        this.media.load();\n    }\n    /** Start playing the audio */\n    play() {\n        return this.media.play();\n    }\n    /** Pause the audio */\n    pause() {\n        this.media.pause();\n    }\n    /** Check if the audio is playing */\n    isPlaying() {\n        return this.media.currentTime > 0 && !this.media.paused && !this.media.ended;\n    }\n    /** Jumpt to a specific time in the audio (in seconds) */\n    setTime(time) {\n        this.media.currentTime = time;\n    }\n    /** Get the duration of the audio in seconds */\n    getDuration() {\n        return this.media.duration;\n    }\n    /** Get the current audio position in seconds */\n    getCurrentTime() {\n        return this.media.currentTime;\n    }\n    /** Get the audio volume */\n    getVolume() {\n        return this.media.volume;\n    }\n    /** Set the audio volume */\n    setVolume(volume) {\n        this.media.volume = volume;\n    }\n    /** Get the audio muted state */\n    getMuted() {\n        return this.media.muted;\n    }\n    /** Mute or unmute the audio */\n    setMuted(muted) {\n        this.media.muted = muted;\n    }\n    /** Get the playback speed */\n    getPlaybackRate() {\n        return this.media.playbackRate;\n    }\n    /** Set the playback speed, pass an optional false to NOT preserve the pitch */\n    setPlaybackRate(rate, preservePitch) {\n        // preservePitch is true by default in most browsers\n        if (preservePitch != null) {\n            this.media.preservesPitch = preservePitch;\n        }\n        this.media.playbackRate = rate;\n    }\n    /** Get the HTML media element */\n    getMediaElement() {\n        return this.media;\n    }\n    /** Set a sink id to change the audio output device */\n    setSinkId(sinkId) {\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId\n        const media = this.media;\n        return media.setSinkId(sinkId);\n    }\n}\nexport default Player;\n","export function makeDraggable(element, onDrag, onStart, onEnd, threshold = 5) {\n    let unsub = () => {\n        return;\n    };\n    if (!element)\n        return unsub;\n    const down = (e) => {\n        // Ignore the right mouse button\n        if (e.button === 2)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        let startX = e.clientX;\n        let startY = e.clientY;\n        let isDragging = false;\n        const move = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const x = e.clientX;\n            const y = e.clientY;\n            if (isDragging || Math.abs(x - startX) >= threshold || Math.abs(y - startY) >= threshold) {\n                const { left, top } = element.getBoundingClientRect();\n                if (!isDragging) {\n                    isDragging = true;\n                    onStart === null || onStart === void 0 ? void 0 : onStart(startX - left, startY - top);\n                }\n                onDrag(x - startX, y - startY, x - left, y - top);\n                startX = x;\n                startY = y;\n            }\n        };\n        const click = (e) => {\n            if (isDragging) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        const up = () => {\n            if (isDragging) {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n            }\n            unsub();\n        };\n        document.addEventListener('pointermove', move);\n        document.addEventListener('pointerup', up);\n        document.addEventListener('pointerleave', up);\n        document.addEventListener('click', click, true);\n        unsub = () => {\n            document.removeEventListener('pointermove', move);\n            document.removeEventListener('pointerup', up);\n            document.removeEventListener('pointerleave', up);\n            setTimeout(() => {\n                document.removeEventListener('click', click, true);\n            }, 10);\n        };\n    };\n    element.addEventListener('pointerdown', down);\n    return () => {\n        unsub();\n        element.removeEventListener('pointerdown', down);\n    };\n}\n","import { makeDraggable } from './draggable.js';\nimport EventEmitter from './event-emitter.js';\nclass Renderer extends EventEmitter {\n    constructor(options, audioElement) {\n        super();\n        this.timeouts = [];\n        this.isScrolling = false;\n        this.audioData = null;\n        this.resizeObserver = null;\n        this.isDragging = false;\n        this.options = options;\n        let parent;\n        if (typeof options.container === 'string') {\n            parent = document.querySelector(options.container);\n        }\n        else if (options.container instanceof HTMLElement) {\n            parent = options.container;\n        }\n        if (!parent) {\n            throw new Error('Container not found');\n        }\n        this.parent = parent;\n        const [div, shadow] = this.initHtml();\n        parent.appendChild(div);\n        this.container = div;\n        this.scrollContainer = shadow.querySelector('.scroll');\n        this.wrapper = shadow.querySelector('.wrapper');\n        this.canvasWrapper = shadow.querySelector('.canvases');\n        this.progressWrapper = shadow.querySelector('.progress');\n        this.cursor = shadow.querySelector('.cursor');\n        if (audioElement) {\n            shadow.appendChild(audioElement);\n        }\n        this.initEvents();\n    }\n    initEvents() {\n        // Add a click listener\n        this.wrapper.addEventListener('click', (e) => {\n            const rect = this.wrapper.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const relativeX = x / rect.width;\n            this.emit('click', relativeX);\n        });\n        // Drag\n        this.initDrag();\n        // Add a scroll listener\n        this.scrollContainer.addEventListener('scroll', () => {\n            const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit('scroll', startX, endX);\n        });\n        // Re-render the waveform on container resize\n        const delay = this.createDelay(100);\n        this.resizeObserver = new ResizeObserver(() => {\n            delay(() => this.reRender());\n        });\n        this.resizeObserver.observe(this.scrollContainer);\n    }\n    initDrag() {\n        makeDraggable(this.wrapper, \n        // On drag\n        (_, __, x) => {\n            this.emit('drag', Math.max(0, Math.min(1, x / this.wrapper.clientWidth)));\n        }, \n        // On start drag\n        () => (this.isDragging = true), \n        // On end drag\n        () => (this.isDragging = false));\n    }\n    getHeight() {\n        const defaultHeight = 128;\n        if (this.options.height == null)\n            return defaultHeight;\n        if (!isNaN(Number(this.options.height)))\n            return Number(this.options.height);\n        if (this.options.height === 'auto')\n            return this.parent.clientHeight || defaultHeight;\n        return defaultHeight;\n    }\n    initHtml() {\n        const div = document.createElement('div');\n        const shadow = div.attachShadow({ mode: 'open' });\n        shadow.innerHTML = `\n      <style>\n        :host {\n          user-select: none;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n          touch-action: none;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight()}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class=\"scroll\" part=\"scroll\">\n        <div class=\"wrapper\">\n          <div class=\"canvases\"></div>\n          <div class=\"progress\" part=\"progress\"></div>\n          <div class=\"cursor\" part=\"cursor\"></div>\n        </div>\n      </div>\n    `;\n        return [div, shadow];\n    }\n    setOptions(options) {\n        this.options = options;\n        // Re-render the waveform\n        this.reRender();\n    }\n    getWrapper() {\n        return this.wrapper;\n    }\n    getScroll() {\n        return this.scrollContainer.scrollLeft;\n    }\n    destroy() {\n        var _a;\n        this.container.remove();\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n    createDelay(delayMs = 10) {\n        const context = {};\n        this.timeouts.push(context);\n        return (callback) => {\n            context.timeout && clearTimeout(context.timeout);\n            context.timeout = setTimeout(callback, delayMs);\n        };\n    }\n    // Convert array of color values to linear gradient\n    convertColorValues(color) {\n        if (!Array.isArray(color))\n            return color || '';\n        if (color.length < 2)\n            return color[0] || '';\n        const canvasElement = document.createElement('canvas');\n        const ctx = canvasElement.getContext('2d');\n        const gradient = ctx.createLinearGradient(0, 0, 0, canvasElement.height);\n        const colorStopPercentage = 1 / (color.length - 1);\n        color.forEach((color, index) => {\n            const offset = index * colorStopPercentage;\n            gradient.addColorStop(offset, color);\n        });\n        return gradient;\n    }\n    renderBarWaveform(channelData, options, ctx, vScale) {\n        const topChannel = channelData[0];\n        const bottomChannel = channelData[1] || channelData[0];\n        const length = topChannel.length;\n        const { width, height } = ctx.canvas;\n        const halfHeight = height / 2;\n        const pixelRatio = window.devicePixelRatio || 1;\n        const barWidth = options.barWidth ? options.barWidth * pixelRatio : 1;\n        const barGap = options.barGap ? options.barGap * pixelRatio : options.barWidth ? barWidth / 2 : 0;\n        const barRadius = options.barRadius || 0;\n        const barIndexScale = width / (barWidth + barGap) / length;\n        const rectFn = barRadius && 'roundRect' in ctx ? 'roundRect' : 'rect';\n        ctx.beginPath();\n        let prevX = 0;\n        let maxTop = 0;\n        let maxBottom = 0;\n        for (let i = 0; i <= length; i++) {\n            const x = Math.round(i * barIndexScale);\n            if (x > prevX) {\n                const topBarHeight = Math.round(maxTop * halfHeight * vScale);\n                const bottomBarHeight = Math.round(maxBottom * halfHeight * vScale);\n                const barHeight = topBarHeight + bottomBarHeight || 1;\n                // Vertical alignment\n                let y = halfHeight - topBarHeight;\n                if (options.barAlign === 'top') {\n                    y = 0;\n                }\n                else if (options.barAlign === 'bottom') {\n                    y = height - barHeight;\n                }\n                ctx[rectFn](prevX * (barWidth + barGap), y, barWidth, barHeight, barRadius);\n                prevX = x;\n                maxTop = 0;\n                maxBottom = 0;\n            }\n            const magnitudeTop = Math.abs(topChannel[i] || 0);\n            const magnitudeBottom = Math.abs(bottomChannel[i] || 0);\n            if (magnitudeTop > maxTop)\n                maxTop = magnitudeTop;\n            if (magnitudeBottom > maxBottom)\n                maxBottom = magnitudeBottom;\n        }\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderLineWaveform(channelData, _options, ctx, vScale) {\n        const drawChannel = (index) => {\n            const channel = channelData[index] || channelData[0];\n            const length = channel.length;\n            const { height } = ctx.canvas;\n            const halfHeight = height / 2;\n            const hScale = ctx.canvas.width / length;\n            ctx.moveTo(0, halfHeight);\n            let prevX = 0;\n            let max = 0;\n            for (let i = 0; i <= length; i++) {\n                const x = Math.round(i * hScale);\n                if (x > prevX) {\n                    const h = Math.round(max * halfHeight * vScale) || 1;\n                    const y = halfHeight + h * (index === 0 ? -1 : 1);\n                    ctx.lineTo(prevX, y);\n                    prevX = x;\n                    max = 0;\n                }\n                const value = Math.abs(channel[i] || 0);\n                if (value > max)\n                    max = value;\n            }\n            ctx.lineTo(prevX, halfHeight);\n        };\n        ctx.beginPath();\n        drawChannel(0);\n        drawChannel(1);\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderWaveform(channelData, options, ctx) {\n        ctx.fillStyle = this.convertColorValues(options.waveColor);\n        // Custom rendering function\n        if (options.renderFunction) {\n            options.renderFunction(channelData, ctx);\n            return;\n        }\n        // Vertical scaling\n        let vScale = options.barHeight || 1;\n        if (options.normalize) {\n            const max = Array.from(channelData[0]).reduce((max, value) => Math.max(max, Math.abs(value)), 0);\n            vScale = max ? 1 / max : 1;\n        }\n        // Render waveform as bars\n        if (options.barWidth || options.barGap || options.barAlign) {\n            this.renderBarWaveform(channelData, options, ctx, vScale);\n            return;\n        }\n        // Render waveform as a polyline\n        this.renderLineWaveform(channelData, options, ctx, vScale);\n    }\n    renderSingleCanvas(channelData, options, width, height, start, end, canvasContainer, progressContainer) {\n        const pixelRatio = window.devicePixelRatio || 1;\n        const canvas = document.createElement('canvas');\n        const length = channelData[0].length;\n        canvas.width = Math.round((width * (end - start)) / length);\n        canvas.height = height * pixelRatio;\n        canvas.style.width = `${Math.floor(canvas.width / pixelRatio)}px`;\n        canvas.style.height = `${height}px`;\n        canvas.style.left = `${Math.floor((start * width) / pixelRatio / length)}px`;\n        canvasContainer.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        this.renderWaveform(channelData.map((channel) => channel.slice(start, end)), options, ctx);\n        // Draw a progress canvas\n        const progressCanvas = canvas.cloneNode();\n        progressContainer.appendChild(progressCanvas);\n        const progressCtx = progressCanvas.getContext('2d');\n        if (canvas.width > 0 && canvas.height > 0) {\n            progressCtx.drawImage(canvas, 0, 0);\n        }\n        // Set the composition method to draw only where the waveform is drawn\n        progressCtx.globalCompositeOperation = 'source-in';\n        progressCtx.fillStyle = this.convertColorValues(options.progressColor);\n        // This rectangle acts as a mask thanks to the composition method\n        progressCtx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    renderChannel(channelData, options, width) {\n        // A container for canvases\n        const canvasContainer = document.createElement('div');\n        const height = this.getHeight();\n        canvasContainer.style.height = `${height}px`;\n        this.canvasWrapper.style.minHeight = `${height}px`;\n        this.canvasWrapper.appendChild(canvasContainer);\n        // A container for progress canvases\n        const progressContainer = canvasContainer.cloneNode();\n        this.progressWrapper.appendChild(progressContainer);\n        // Determine the currently visible part of the waveform\n        const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n        const len = channelData[0].length;\n        const scale = len / scrollWidth;\n        let viewportWidth = Math.min(Renderer.MAX_CANVAS_WIDTH, clientWidth);\n        // Adjust width to avoid gaps between canvases when using bars\n        if (options.barWidth || options.barGap) {\n            const barWidth = options.barWidth || 0.5;\n            const barGap = options.barGap || barWidth / 2;\n            const totalBarWidth = barWidth + barGap;\n            if (viewportWidth % totalBarWidth !== 0) {\n                viewportWidth = Math.floor(viewportWidth / totalBarWidth) * totalBarWidth;\n            }\n        }\n        const start = Math.floor(Math.abs(scrollLeft) * scale);\n        const end = Math.floor(start + viewportWidth * scale);\n        const viewportLen = end - start;\n        // Draw a portion of the waveform from start peak to end peak\n        const draw = (start, end) => {\n            this.renderSingleCanvas(channelData, options, width, height, Math.max(0, start), Math.min(end, len), canvasContainer, progressContainer);\n        };\n        // Draw the waveform in viewport chunks, each with a delay\n        const headDelay = this.createDelay();\n        const tailDelay = this.createDelay();\n        const renderHead = (fromIndex, toIndex) => {\n            draw(fromIndex, toIndex);\n            if (fromIndex > 0) {\n                headDelay(() => {\n                    renderHead(fromIndex - viewportLen, toIndex - viewportLen);\n                });\n            }\n        };\n        const renderTail = (fromIndex, toIndex) => {\n            draw(fromIndex, toIndex);\n            if (toIndex < len) {\n                tailDelay(() => {\n                    renderTail(fromIndex + viewportLen, toIndex + viewportLen);\n                });\n            }\n        };\n        renderHead(start, end);\n        if (end < len) {\n            renderTail(end, end + viewportLen);\n        }\n    }\n    render(audioData) {\n        // Clear previous timeouts\n        this.timeouts.forEach((context) => context.timeout && clearTimeout(context.timeout));\n        this.timeouts = [];\n        // Clear the canvases\n        this.canvasWrapper.innerHTML = '';\n        this.progressWrapper.innerHTML = '';\n        this.wrapper.style.width = '';\n        // Determine the width of the waveform\n        const pixelRatio = window.devicePixelRatio || 1;\n        const parentWidth = this.scrollContainer.clientWidth;\n        const scrollWidth = Math.ceil(audioData.duration * (this.options.minPxPerSec || 0));\n        // Whether the container should scroll\n        this.isScrolling = scrollWidth > parentWidth;\n        const useParentWidth = this.options.fillParent && !this.isScrolling;\n        // Width of the waveform in pixels\n        const width = (useParentWidth ? parentWidth : scrollWidth) * pixelRatio;\n        // Set the width of the wrapper\n        this.wrapper.style.width = useParentWidth ? '100%' : `${scrollWidth}px`;\n        // Set additional styles\n        this.scrollContainer.style.overflowX = this.isScrolling ? 'auto' : 'hidden';\n        this.scrollContainer.classList.toggle('noScrollbar', !!this.options.hideScrollbar);\n        this.cursor.style.backgroundColor = `${this.options.cursorColor || this.options.progressColor}`;\n        this.cursor.style.width = `${this.options.cursorWidth}px`;\n        // Render the waveform\n        if (this.options.splitChannels) {\n            // Render a waveform for each channel\n            for (let i = 0; i < audioData.numberOfChannels; i++) {\n                const options = Object.assign(Object.assign({}, this.options), this.options.splitChannels[i]);\n                this.renderChannel([audioData.getChannelData(i)], options, width);\n            }\n        }\n        else {\n            // Render a single waveform for the first two channels (left and right)\n            const channels = [audioData.getChannelData(0)];\n            if (audioData.numberOfChannels > 1)\n                channels.push(audioData.getChannelData(1));\n            this.renderChannel(channels, this.options, width);\n        }\n        this.audioData = audioData;\n        this.emit('render');\n    }\n    reRender() {\n        // Return if the waveform has not been rendered yet\n        if (!this.audioData)\n            return;\n        // Remember the current cursor position\n        const oldCursorPosition = this.progressWrapper.clientWidth;\n        // Set the new zoom level and re-render the waveform\n        this.render(this.audioData);\n        // Adjust the scroll position so that the cursor stays in the same place\n        const newCursortPosition = this.progressWrapper.clientWidth;\n        this.scrollContainer.scrollLeft += newCursortPosition - oldCursorPosition;\n    }\n    zoom(minPxPerSec) {\n        this.options.minPxPerSec = minPxPerSec;\n        this.reRender();\n    }\n    scrollIntoView(progress, isPlaying = false) {\n        const { clientWidth, scrollLeft, scrollWidth } = this.scrollContainer;\n        const progressWidth = scrollWidth * progress;\n        const center = clientWidth / 2;\n        const minScroll = isPlaying && this.options.autoCenter && !this.isDragging ? center : clientWidth;\n        if (progressWidth > scrollLeft + minScroll || progressWidth < scrollLeft) {\n            // Scroll to the center\n            if (this.options.autoCenter && !this.isDragging) {\n                // If the cursor is in viewport but not centered, scroll to the center slowly\n                const minDiff = center / 20;\n                if (progressWidth - (scrollLeft + center) >= minDiff && progressWidth < scrollLeft + clientWidth) {\n                    this.scrollContainer.scrollLeft += minDiff;\n                }\n                else {\n                    // Otherwise, scroll to the center immediately\n                    this.scrollContainer.scrollLeft = progressWidth - center;\n                }\n            }\n            else if (this.isDragging) {\n                // Scroll just a little bit to allow for some space between the cursor and the edge\n                const gap = 10;\n                this.scrollContainer.scrollLeft =\n                    progressWidth < scrollLeft ? progressWidth - gap : progressWidth - clientWidth + gap;\n            }\n            else {\n                // Scroll to the beginning\n                this.scrollContainer.scrollLeft = progressWidth;\n            }\n        }\n        // Emit the scroll event\n        {\n            const { scrollLeft } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit('scroll', startX, endX);\n        }\n    }\n    renderProgress(progress, isPlaying) {\n        if (isNaN(progress))\n            return;\n        this.progressWrapper.style.width = `${progress * 100}%`;\n        this.cursor.style.left = `${progress * 100}%`;\n        this.cursor.style.marginLeft = Math.round(progress * 100) === 100 ? `-${this.options.cursorWidth}px` : '';\n        if (this.isScrolling && this.options.autoScroll) {\n            this.scrollIntoView(progress, isPlaying);\n        }\n    }\n}\nRenderer.MAX_CANVAS_WIDTH = 4000;\nexport default Renderer;\n","import EventEmitter from './event-emitter.js';\nclass Timer extends EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.unsubscribe = () => undefined;\n    }\n    start() {\n        this.unsubscribe = this.on('tick', () => {\n            requestAnimationFrame(() => {\n                this.emit('tick');\n            });\n        });\n        this.emit('tick');\n    }\n    stop() {\n        this.unsubscribe();\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n}\nexport default Timer;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Decoder from './decoder.js';\nimport Fetcher from './fetcher.js';\nimport Player from './player.js';\nimport Renderer from './renderer.js';\nimport Timer from './timer.js';\nconst defaultOptions = {\n    waveColor: '#999',\n    progressColor: '#555',\n    cursorWidth: 1,\n    minPxPerSec: 0,\n    fillParent: true,\n    interact: true,\n    autoScroll: true,\n    autoCenter: true,\n    sampleRate: 8000,\n};\nclass WaveSurfer extends Player {\n    /** Create a new WaveSurfer instance */\n    static create(options) {\n        return new WaveSurfer(options);\n    }\n    /** Create a new WaveSurfer instance */\n    constructor(options) {\n        var _a, _b;\n        super({\n            media: options.media,\n            mediaControls: options.mediaControls,\n            autoplay: options.autoplay,\n            playbackRate: options.audioRate,\n        });\n        this.plugins = [];\n        this.decodedData = null;\n        this.subscriptions = [];\n        this.options = Object.assign({}, defaultOptions, options);\n        this.timer = new Timer();\n        const audioElement = !options.media ? this.getMediaElement() : undefined;\n        this.renderer = new Renderer(this.options, audioElement);\n        this.initPlayerEvents();\n        this.initRendererEvents();\n        this.initTimerEvents();\n        this.initPlugins();\n        // Load audio if URL is passed or an external media with an src\n        const url = this.options.url || ((_a = this.options.media) === null || _a === void 0 ? void 0 : _a.currentSrc) || ((_b = this.options.media) === null || _b === void 0 ? void 0 : _b.src);\n        if (url) {\n            this.load(url, this.options.peaks, this.options.duration);\n        }\n    }\n    initTimerEvents() {\n        // The timer fires every 16ms for a smooth progress animation\n        this.subscriptions.push(this.timer.on('tick', () => {\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), true);\n            this.emit('timeupdate', currentTime);\n            this.emit('audioprocess', currentTime);\n        }));\n    }\n    initPlayerEvents() {\n        this.subscriptions.push(this.onMediaEvent('timeupdate', () => {\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), this.isPlaying());\n            this.emit('timeupdate', currentTime);\n        }), this.onMediaEvent('play', () => {\n            this.emit('play');\n            this.timer.start();\n        }), this.onMediaEvent('pause', () => {\n            this.emit('pause');\n            this.timer.stop();\n        }), this.onMediaEvent('emptied', () => {\n            this.timer.stop();\n        }), this.onMediaEvent('ended', () => {\n            this.emit('finish');\n        }), this.onMediaEvent('seeking', () => {\n            this.emit('seeking', this.getCurrentTime());\n        }));\n    }\n    initRendererEvents() {\n        this.subscriptions.push(\n        // Seek on click\n        this.renderer.on('click', (relativeX) => {\n            if (this.options.interact) {\n                this.seekTo(relativeX);\n                this.emit('interaction', relativeX * this.getDuration());\n                this.emit('click', relativeX);\n            }\n        }), \n        // Scroll\n        this.renderer.on('scroll', (startX, endX) => {\n            const duration = this.getDuration();\n            this.emit('scroll', startX * duration, endX * duration);\n        }), \n        // Redraw\n        this.renderer.on('render', () => {\n            this.emit('redraw');\n        }));\n        // Drag\n        {\n            let debounce;\n            this.subscriptions.push(this.renderer.on('drag', (relativeX) => {\n                if (!this.options.interact)\n                    return;\n                // Update the visual position\n                this.renderer.renderProgress(relativeX);\n                // Set the audio position with a debounce\n                clearTimeout(debounce);\n                debounce = setTimeout(() => {\n                    this.seekTo(relativeX);\n                }, this.isPlaying() ? 0 : 200);\n                this.emit('interaction', relativeX * this.getDuration());\n                this.emit('drag', relativeX);\n            }));\n        }\n    }\n    initPlugins() {\n        var _a;\n        if (!((_a = this.options.plugins) === null || _a === void 0 ? void 0 : _a.length))\n            return;\n        this.options.plugins.forEach((plugin) => {\n            this.registerPlugin(plugin);\n        });\n    }\n    /** Set new wavesurfer options and re-render it */\n    setOptions(options) {\n        this.options = Object.assign({}, this.options, options);\n        this.renderer.setOptions(this.options);\n        if (options.audioRate) {\n            this.setPlaybackRate(options.audioRate);\n        }\n        if (options.mediaControls != null) {\n            this.getMediaElement().controls = options.mediaControls;\n        }\n    }\n    /** Register a wavesurfer.js plugin */\n    registerPlugin(plugin) {\n        plugin.init(this);\n        this.plugins.push(plugin);\n        // Unregister plugin on destroy\n        this.subscriptions.push(plugin.once('destroy', () => {\n            this.plugins = this.plugins.filter((p) => p !== plugin);\n        }));\n        return plugin;\n    }\n    /** For plugins only: get the waveform wrapper div */\n    getWrapper() {\n        return this.renderer.getWrapper();\n    }\n    /** Get the current scroll position in pixels */\n    getScroll() {\n        return this.renderer.getScroll();\n    }\n    /** Get all registered plugins */\n    getActivePlugins() {\n        return this.plugins;\n    }\n    loadAudio(url, blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.emit('load', url);\n            if (this.isPlaying())\n                this.pause();\n            this.decodedData = null;\n            // Fetch the entire audio as a blob if pre-decoded data is not provided\n            if (!blob && !channelData) {\n                const onProgress = (percentage) => this.emit('loading', percentage);\n                blob = yield Fetcher.fetchBlob(url, onProgress, this.options.fetchParams);\n            }\n            // Set the mediaelement source\n            this.setSrc(url, blob);\n            // Decode the audio data or use user-provided peaks\n            if (channelData) {\n                // Wait for the audio duration\n                // It should be a promise to allow event listeners to subscribe to the ready and decode events\n                duration =\n                    (yield Promise.resolve(duration || this.getDuration())) ||\n                        (yield new Promise((resolve) => {\n                            this.onceMediaEvent('loadedmetadata', () => resolve(this.getDuration()));\n                        })) ||\n                        (yield Promise.resolve(0));\n                this.decodedData = Decoder.createBuffer(channelData, duration);\n            }\n            else if (blob) {\n                const arrayBuffer = yield blob.arrayBuffer();\n                this.decodedData = yield Decoder.decode(arrayBuffer, this.options.sampleRate);\n            }\n            this.emit('decode', this.getDuration());\n            // Render the waveform\n            if (this.decodedData) {\n                this.renderer.render(this.decodedData);\n            }\n            this.emit('ready', this.getDuration());\n        });\n    }\n    /** Load an audio file by URL, with optional pre-decoded audio data */\n    load(url, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadAudio(url, undefined, channelData, duration);\n        });\n    }\n    /** Load an audio blob */\n    loadBlob(blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadAudio('blob', blob, channelData, duration);\n        });\n    }\n    /** Zoom the waveform by a given pixels-per-second factor */\n    zoom(minPxPerSec) {\n        if (!this.decodedData) {\n            throw new Error('No audio loaded');\n        }\n        this.renderer.zoom(minPxPerSec);\n        this.emit('zoom', minPxPerSec);\n    }\n    /** Get the decoded audio data */\n    getDecodedData() {\n        return this.decodedData;\n    }\n    /** Get decoded peaks */\n    exportPeaks({ channels = 1, maxLength = 8000, precision = 10000 } = {}) {\n        if (!this.decodedData) {\n            throw new Error('The audio has not been decoded yet');\n        }\n        const channelsLen = Math.min(channels, this.decodedData.numberOfChannels);\n        const peaks = [];\n        for (let i = 0; i < channelsLen; i++) {\n            const data = this.decodedData.getChannelData(i);\n            const length = Math.min(data.length, maxLength);\n            const scale = data.length / length;\n            const sampledData = [];\n            for (let j = 0; j < length; j++) {\n                const n = Math.round(j * scale);\n                const val = data[n];\n                sampledData.push(Math.round(val * precision) / precision);\n            }\n            peaks.push(sampledData);\n        }\n        return peaks;\n    }\n    /** Get the duration of the audio in seconds */\n    getDuration() {\n        let duration = super.getDuration() || 0;\n        // Fall back to the decoded data duration if the media duration is incorrect\n        if ((duration === 0 || duration === Infinity) && this.decodedData) {\n            duration = this.decodedData.duration;\n        }\n        return duration;\n    }\n    /** Toggle if the waveform should react to clicks */\n    toggleInteraction(isInteractive) {\n        this.options.interact = isInteractive;\n    }\n    /** Seek to a percentage of audio as [0..1] (0 = beginning, 1 = end) */\n    seekTo(progress) {\n        const time = this.getDuration() * progress;\n        this.setTime(time);\n    }\n    /** Play or pause the audio */\n    playPause() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.isPlaying() ? this.pause() : this.play();\n        });\n    }\n    /** Stop the audio and go to the beginning */\n    stop() {\n        this.pause();\n        this.setTime(0);\n    }\n    /** Skip N or -N seconds from the current position */\n    skip(seconds) {\n        this.setTime(this.getCurrentTime() + seconds);\n    }\n    /** Empty the waveform by loading a tiny silent audio */\n    empty() {\n        this.load('', [[0]], 0.001);\n    }\n    /** Unmount wavesurfer */\n    destroy() {\n        this.emit('destroy');\n        this.plugins.forEach((plugin) => plugin.destroy());\n        this.subscriptions.forEach((unsubscribe) => unsubscribe());\n        this.timer.destroy();\n        this.renderer.destroy();\n        super.destroy();\n    }\n}\nexport default WaveSurfer;\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"40\",\n  height: \"40\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#409eff\",\n  d: \"M512 0C229.227 0 0 229.227 0 512s229.227 512 512 512 512-229.227 512-512S794.773 0 512 0zm-33.023 704.742c0 34.191-25.028 62.18-55.617 62.18s-55.618-27.975-55.618-62.18V319.258c0-34.19 25.028-62.18 55.618-62.18s55.617 27.975 55.617 62.18zm170.328 0c0 34.191-25.027 62.18-55.617 62.18s-55.617-27.975-55.617-62.18V319.258c0-34.19 25.027-62.18 55.617-62.18s55.617 27.975 55.617 62.18z\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"40\",\n  height: \"40\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#f56c6c\",\n  d: \"M512 42.667C252.793 42.667 42.667 252.793 42.667 512S252.793 981.333 512 981.333 981.333 771.207 981.333 512 771.207 42.667 512 42.667zM708.547 543.16l-266.667 176A37.333 37.333 0 0 1 384 688V336.033a37.333 37.333 0 0 1 57.893-31.16l266.667 176a37.333 37.333 0 0 1 0 62.32z\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"32\",\n  height: \"32\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#409EFF\",\n  d: \"M515.5 91.5C747.4 91.5 936 280.1 936 512S747.4 932.5 515.5 932.5 95 743.9 95 512 283.6 91.5 515.5 91.5m0-87C235.2 4.5 8 231.7 8 512s227.2 507.5 507.5 507.5S1023 792.3 1023 512 795.8 4.5 515.5 4.5z\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"m337.7 450.8 84.1 61.2-84.1 61.2V450.8m-28.8-115c-30.1 0-58.2 23.8-58.2 58.1v236.2c0 34.3 28.1 58.1 58.2 58.1 11.5 0 23.3-3.5 33.9-11.2l162.4-118.1c31.9-23.2 31.9-70.7 0-93.8L342.8 347c-10.6-7.7-22.4-11.2-33.9-11.2z\"\n}, null, -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"m529.1 450.8 84.1 61.2-84.1 61.2V450.8m-28.8-115c-30.1 0-58.2 23.8-58.2 58.1v236.2c0 34.3 28.1 58.1 58.2 58.1 11.5 0 23.3-3.5 33.9-11.2l162.4-118.1c31.9-23.2 31.9-70.7 0-93.8L534.2 347c-10.6-7.7-22.4-11.2-33.9-11.2z\"\n}, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"M736.8 367c-24 0-43.5 19.5-43.5 43.5v203c0 24 19.5 43.5 43.5 43.5s43.5-19.5 43.5-43.5v-203c0-24-19.5-43.5-43.5-43.5z\"\n}, null, -1)\nconst _hoisted_6 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4,\n  _hoisted_5\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_6))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"32\",\n  height: \"32\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#409EFF\",\n  d: \"M512 90.3c231.9 0 420.5 188.6 420.5 420.5S743.9 931.3 512 931.3 91.5 742.7 91.5 510.8 280.1 90.3 512 90.3m0-87C231.7 3.3 4.5 230.5 4.5 510.8s227.2 507.5 507.5 507.5 507.5-227.2 507.5-507.5S792.3 3.3 512 3.3z\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"M689.8 449.7V572l-84.1-61.2 84.1-61.1m28.8-115.1c-11.5 0-23.3 3.5-33.9 11.2L522.3 463.9c-31.9 23.2-31.9 70.6 0 93.8l162.4 118.1c10.6 7.7 22.4 11.2 33.9 11.2 30.1 0 58.2-23.8 58.2-58.1V392.7c0-34.3-28.1-58.1-58.2-58.1z\"\n}, null, -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"M498.4 449.7V572l-84.1-61.2 84.1-61.1m28.8-115.1c-11.5 0-23.3 3.5-33.9 11.2L330.9 463.9c-31.9 23.2-31.9 70.6 0 93.8l162.4 118.1c10.6 7.7 22.4 11.2 33.9 11.2 30.1 0 58.2-23.8 58.2-58.1V392.7c0-34.3-28.1-58.1-58.2-58.1z\"\n}, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#81888f\",\n  d: \"M290.7 365.8c-24 0-43.5 19.5-43.5 43.5v203c0 24 19.5 43.5 43.5 43.5s43.5-19.5 43.5-43.5v-203c0-24-19.5-43.5-43.5-43.5z\"\n}, null, -1)\nconst _hoisted_6 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4,\n  _hoisted_5\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_6))\n}\nexport default { render: render }","<script setup lang=\"ts\">\nimport WaveSurfer from \"wavesurfer.js\";\nimport { getTime } from \"@pureadmin/utils\";\nimport { Play, Pause, Forward, Rewind } from \"./svg\";\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\n\nimport \"tippy.js/dist/tippy.css\";\nimport \"tippy.js/animations/scale.css\";\nimport { directive as tippy } from \"vue-tippy\";\n\ndefineOptions({\n  name: \"Wavesurfer\"\n});\n\nconst vTippy = tippy;\nconst loading = ref(true);\nconst wavesurfer = ref(null);\nconst wavesurferRef = ref();\n// 音频总时长\nconst totalTime = ref();\n// 音频当前播放位置时长\nconst curTime = ref();\n// 音频是否正在播放\nconst isPlay = ref(false);\n\nconst { VITE_PUBLIC_PATH } = import.meta.env;\nconst url = `${VITE_PUBLIC_PATH}audio/海阔天空.mp3`;\n\nfunction init() {\n  wavesurfer.value = WaveSurfer.create({\n    container: wavesurferRef.value,\n    height: \"auto\",\n    waveColor: \"rgb(200, 0, 200)\",\n    progressColor: \"rgb(100, 0, 100)\",\n    cursorColor: \"rgb(64, 158, 255)\",\n    cursorWidth: 4,\n    // backend: \"MediaElement\",\n    url\n  });\n\n  // 音频被解码后触发\n  wavesurfer.value.on(\"decode\", () => (loading.value = false));\n\n  // 当音频已解码并可以播放时触发\n  wavesurfer.value.on(\"ready\", () => {\n    if (!wavesurfer.value) return;\n    const { duration } = wavesurfer.value;\n    const { m, s } = getTime(duration);\n    totalTime.value = `${m}:${s}`;\n    // 光标位置取中\n    wavesurfer.value.setTime(duration / 2);\n    // 设置音频音量（范围0-1）\n    // wavesurfer.value.setVolume(1);\n  });\n\n  // 音频位置改变时，播放期间连续触发\n  wavesurfer.value.on(\"timeupdate\", timer => {\n    const { m, s } = getTime(timer);\n    curTime.value = `${m}:${s}`;\n  });\n\n  // 音频播放时触发\n  wavesurfer.value.on(\"play\", () => (isPlay.value = true));\n\n  // 音频暂停时触发\n  wavesurfer.value.on(\"pause\", () => (isPlay.value = false));\n}\n\nonMounted(init);\n\nonBeforeUnmount(() => {\n  if (wavesurfer.value) {\n    wavesurfer.value.destroy();\n    wavesurfer.value = null;\n  }\n});\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">\n          音频可视化，采用开源的\n          <el-link\n            href=\"https://wavesurfer-js.org/\"\n            target=\"_blank\"\n            style=\"margin: 0 4px 5px; font-size: 16px\"\n          >\n            wavesurfer.js\n          </el-link>\n          <span class=\"text-[red]\">\n            （温馨提示：音频默认最大声音，播放时请调低电脑声音，以免影响到您）\n          </span>\n        </span>\n      </div>\n    </template>\n    <div\n      v-loading=\"loading\"\n      class=\"w-8/12 !m-auto !mt-[20px]\"\n      element-loading-background=\"transparent\"\n    >\n      <div ref=\"wavesurferRef\" />\n      <div class=\"flex justify-between\" v-show=\"totalTime\">\n        <span class=\"text-[#81888f]\">00:00</span>\n        <h1 class=\"text-4xl mt-2\">{{ curTime }}</h1>\n        <span class=\"text-[#81888f]\">{{ totalTime }}</span>\n      </div>\n      <div class=\"flex mt-2 w-[180px] justify-around m-auto\" v-show=\"totalTime\">\n        <Rewind\n          class=\"cursor-pointer\"\n          v-tippy=\"{\n            content: '快退（可长按）',\n            placement: 'bottom',\n            animation: 'scale'\n          }\"\n          v-longpress:0:100=\"() => wavesurfer?.skip(-1)\"\n        />\n        <div\n          class=\"cursor-pointer\"\n          v-tippy=\"{\n            content: isPlay ? '暂停' : '播放',\n            placement: 'bottom',\n            animation: 'scale'\n          }\"\n          @click=\"wavesurfer?.playPause()\"\n        >\n          <Play v-if=\"isPlay\" v-motion-pop />\n          <Pause v-else v-motion-pop />\n        </div>\n        <Forward\n          class=\"cursor-pointer\"\n          v-tippy=\"{\n            content: '快进（可长按）',\n            placement: 'bottom',\n            animation: 'scale'\n          }\"\n          v-longpress:0:100=\"() => wavesurfer?.skip(1)\"\n        />\n      </div>\n    </div>\n  </el-card>\n</template>\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","decode","audioData","sampleRate","audioCtx","normalize","channelData","firstChannel","n","length","max","i","absN","channel","createBuffer","duration","Decoder","fetchBlob","url","progressCallback","requestInit","_a","_b","response","reader","contentLength","receivedLength","processChunk","done","percentage","Fetcher","EventEmitter","eventName","listener","unsubscribe","unsubscribeOnce","args","Player","options","event","callback","src","blob","newSrc","time","volume","muted","rate","preservePitch","sinkId","makeDraggable","element","onDrag","onStart","onEnd","threshold","unsub","down","startX","startY","isDragging","move","x","left","top","click","up","Renderer","audioElement","parent","div","shadow","rect","relativeX","scrollLeft","scrollWidth","clientWidth","endX","delay","_","__","delayMs","context","color","canvasElement","gradient","colorStopPercentage","index","offset","ctx","vScale","topChannel","bottomChannel","width","height","halfHeight","pixelRatio","barWidth","barGap","barRadius","barIndexScale","rectFn","prevX","maxTop","maxBottom","topBarHeight","bottomBarHeight","barHeight","y","magnitudeTop","magnitudeBottom","_options","drawChannel","hScale","h","start","end","canvasContainer","progressContainer","canvas","progressCanvas","progressCtx","len","scale","viewportWidth","totalBarWidth","viewportLen","draw","headDelay","tailDelay","renderHead","fromIndex","toIndex","renderTail","parentWidth","useParentWidth","channels","oldCursorPosition","newCursortPosition","minPxPerSec","progress","isPlaying","progressWidth","center","minScroll","minDiff","Timer","defaultOptions","WaveSurfer","currentTime","debounce","plugin","p","onProgress","arrayBuffer","maxLength","precision","channelsLen","peaks","data","sampledData","j","val","isInteractive","seconds","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","render","_ctx","_cache","_openBlock","_createElementBlock","Play","Pause","_hoisted_4","_hoisted_5","_hoisted_6","Forward","Rewind","vTippy","tippy","loading","ref","wavesurfer","wavesurferRef","totalTime","curTime","isPlay","VITE_PUBLIC_PATH","init","m","s","getTime","timer","onMounted","onBeforeUnmount"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}
import{useRole as j}from"./hook-YWeqgVB9.js";import{g as A}from"./utils-NlcLu7mC.js";import{R as E,P as F}from"./refresh-DHpUWmKJ.js";import{u as m}from"./hooks-BewRN9U6.js";import{D as $}from"./delete-BUVqmax5.js";import{d as G,r as h,b as n,j as H,e as C,k as b,i as o,w as t,u as e,h as s,m as J,f as k,B as K,C as M,_ as O}from"./index-VuSprpEA.js";import"./system-C4TOa9HO.js";import"./epTheme-DwqcDX4M.js";import"./sortable.esm-6WsHlDA5.js";const Q={class:"main"},W={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},X={class:"flex-auto"},Y={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},Z=G({name:"SystemLog",__name:"index",setup(ee){const d=h(),p=h(),{form:r,loading:u,columns:y,dataList:v,pagination:x,selectedNum:f,onSearch:_,clearAll:S,resetForm:R,onbatchDel:V,handleSizeChange:D,onSelectionCancel:w,handleCellDblclick:P,handleCurrentChange:B,handleSelectionChange:z}=j(p);return(oe,a)=>{const N=n("el-input"),c=n("el-form-item"),T=n("el-date-picker"),i=n("el-button"),q=n("el-form"),g=n("el-popconfirm"),I=n("pure-table"),L=H("motion-fade");return C(),b("div",Q,[o(q,{ref_key:"formRef",ref:d,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(c,{label:"所属模块",prop:"module"},{default:t(()=>[o(N,{modelValue:e(r).module,"onUpdate:modelValue":a[0]||(a[0]=l=>e(r).module=l),placeholder:"请输入所属模块",clearable:"",class:"!w-[170px]"},null,8,["modelValue"])]),_:1}),o(c,{label:"请求时间",prop:"requestTime"},{default:t(()=>[o(T,{modelValue:e(r).requestTime,"onUpdate:modelValue":a[1]||(a[1]=l=>e(r).requestTime=l),shortcuts:e(A)(),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期时间","end-placeholder":"结束日期时间"},null,8,["modelValue","shortcuts"])]),_:1}),o(c,null,{default:t(()=>[o(i,{type:"primary",icon:e(m)("ri:search-line"),loading:e(u),onClick:e(_)},{default:t(()=>[s(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(i,{icon:e(m)(e(E)),onClick:a[2]||(a[2]=l=>e(R)(d.value))},{default:t(()=>[s(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(F),{title:"系统日志（仅演示，操作后不生效）",columns:e(y),onRefresh:e(_)},{buttons:t(()=>[o(g,{title:"确定要删除所有日志数据吗？",onConfirm:e(S)},{reference:t(()=>[o(i,{type:"danger",icon:e(m)(e($))},{default:t(()=>[s(" 清空日志 ")]),_:1},8,["icon"])]),_:1},8,["onConfirm"])]),default:t(({size:l,dynamicColumns:U})=>[e(f)>0?J((C(),b("div",W,[k("div",X,[k("span",Y," 已选 "+K(e(f))+" 项 ",1),o(i,{type:"primary",text:"",onClick:e(w)},{default:t(()=>[s(" 取消选择 ")]),_:1},8,["onClick"])]),o(g,{title:"是否确认删除?",onConfirm:e(V)},{reference:t(()=>[o(i,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[s(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[L]]):M("",!0),o(I,{ref_key:"tableRef",ref:p,"row-key":"id","align-whole":"center","table-layout":"auto",loading:e(u),size:l,adaptive:"",adaptiveConfig:{offsetBottom:108},data:e(v),columns:U,pagination:e(x),paginationSmall:l==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(z),onPageSizeChange:e(D),onPageCurrentChange:e(B),onCellDblclick:e(P)},null,8,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange","onCellDblclick"])]),_:1},8,["columns","onRefresh"])])}}}),de=O(Z,[["__scopeId","data-v-86e529ab"]]);export{de as default};
